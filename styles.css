:root {
    --sidebar-bg: #2c3e50; --sidebar-hover: #34495e; --sidebar-text: #ecf0f1;
    --page-bg: #f0f2f5; --container-bg: #ffffff; --text-primary: #333;
    --accent-color: #3498db; --border-color: #ddd; --danger-color: #e74c3c;
    --success-color: #2b62ee; --secondary-color: #95a5a6; --warning-color: #f39c12;
    --light-green-bg: #e6ffed;
    --backup-color: #8e44ad; --backup-hover: #9b59b6; /* Novas cores */
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--page-bg); color: var(--text-primary); }
.sidebar { position: fixed; left: 0; top: 0; width: 240px; height: 100%; background-color: var(--sidebar-bg); color: var(--sidebar-text); display: flex; flex-direction: column; overflow-y: auto; }
.sidebar ul { list-style-type: none; padding-inline-start: 0; }
.sidebar > ul { flex-grow: 1; }
.sidebar .menu-item > a { display: flex; align-items: center; padding: 15px 20px; color: var(--sidebar-text); text-decoration: none; transition: background-color: 0.3s; cursor: pointer; }
.sidebar .menu-item > a .icon { margin-right: 15px; width: 20px; text-align: center; }
.sidebar .menu-item > a:hover { background-color: var(--sidebar-hover); }

/* INICIO: NOVOS ESTILOS PARA CORREÇÃO DO MENU */
.menu-parent {
    display: flex;
    align-items: center;
    padding: 15px 20px;
    color: var(--sidebar-text);
    text-decoration: none;
    transition: background-color: 0.3s;
    cursor: pointer;
}
.menu-parent .icon {
    margin-right: 15px;
    width: 20px;
    text-align: center;
}
.menu-parent:hover {
    background-color: var(--sidebar-hover);
}
/* FIM: NOVOS ESTILOS PARA CORREÇÃO DO MENU */

.sidebar .config-item { margin-top: auto; }
.submenu { list-style: none; padding-left: 0; background-color: #243342; display: none; }
.submenu li a { display: block; padding: 10px 20px 10px 55px; font-size: 0.9em; color: var(--sidebar-text); text-decoration: none; cursor: pointer;}
.submenu li:hover { background-color: var(--sidebar-hover); }
.main-content { position: relative; left: 240px; width: calc(100% - 240px); padding: 20px; }
.container { background-color: var(--container-bg); padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.05); margin-bottom: 20px; }
.page-header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px; margin-bottom: 20px; }
.page-header-secondary { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px; padding: 10px; background-color: #fafafa; border-radius: 6px; margin-bottom: 20px; border: 1px solid #eee; }
.page-header-filters { display: flex; flex-wrap: wrap; gap: 20px; align-items: center; }
.market-data-timestamp { font-size: 0.9em; color: var(--secondary-color); font-style: italic; }
h1, h2, h3, h4 { color: var(--text-primary); margin-bottom: 15px; }
.form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 20px; }
.form-row { display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 20px; }
.form-group { display: flex; flex-direction: column; flex-grow: 1; }
.form-group label { margin-bottom: 5px; font-size: 0.9em; color: #555; }
.form-group input, .form-group select { padding: 10px; border: 1px solid var(--border-color); border-radius: 4px; font-size: 1em; }
.page-header-filters .form-group.checkbox-group { flex-direction: row; align-items: center; gap: 8px; margin-top: 15px; }
.page-header-filters .form-group.checkbox-group label { margin-bottom: 0; cursor: pointer; }
input.is-invalid { border-color: var(--danger-color) !important; box-shadow: 0 0 5px var(--danger-color); }
.ticker-input { text-transform: uppercase; }
.btn { padding: 10px 15px; border: none; border-radius: 4px; color: white; cursor: pointer; font-size: 1em; text-align: center; }
.btn.btn-sm { padding: 5px 10px; font-size: 0.85em; }
.btn.btn-primary { background-color: var(--accent-color); }
.btn.btn-success { background-color: var(--success-color); }
.btn.btn-danger { background-color: var(--danger-color); }
.btn.btn-secondary { background-color: var(--secondary-color); color: #333; }
.btn.btn-purple { background-color: var(--backup-color); } /* Nova classe */
.btn.btn-purple:hover { background-color: var(--backup-hover); } /* Novo hover */
.form-actions { display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px; }
table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 0.9em; }
th, td { padding: 12px 8px; border-bottom: 1px solid var(--border-color); text-align: left; vertical-align: middle; }
th { background-color: var(--page-bg); }
.numero { text-align: right; }
.percentual { text-align: right; }
.controles-col { text-align: center; width: 80px; }
.acao-btn { cursor: pointer; margin: 0 5px; color: #7f8c8d; font-size: 1.1em; }
.acao-btn.edit:hover { color: var(--accent-color); }
.acao-btn.delete:hover { color: var(--danger-color); }
.warning-icon { color: var(--danger-color); margin-left: 8px; }
.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4); }
.modal-content { background-color: #fefefe; margin: 5% auto; padding: 20px; border: 1px solid #888; width: 90%; max-width: 700px; border-radius: 8px; }
.modal-no-topo { z-index: 1050; }
.corretora-row { display: flex; gap: 10px; align-items: flex-end; margin-bottom: 10px; }
.btn-add-row { flex-shrink: 0; height: 42px; }
.config-section, .ajustes-section { border-top: 1px solid var(--border-color); margin-top: 30px; padding-top: 20px; }
#transferencia-ativos-disponiveis .ativo-item { display: flex; align-items: center; gap: 15px; padding: 10px; border-radius: 4px; margin-top: 5px; }
#transferencia-ativos-disponiveis .ativo-item:nth-child(odd) { background-color: #f9f9f9; }
#transferencia-ativos-disponiveis .ativo-item label { flex-grow: 1; cursor: pointer; display: block; }
#transferencia-ativos-disponiveis .ativo-item input[type=number] { width: 120px; }
.filtro-info-container { display: flex; gap: 10px; align-items: center; justify-content: flex-start; margin-bottom: 20px; }
.provento-details { font-size: 0.9em; color: #555; }
tr.pagamento-futuro { background-color: var(--light-green-bg); }
.data-hoje { background-color: var(--danger-color); color: white; padding: 2px 4px; border-radius: 3px; font-weight: bold; }
tr.data-hoje-bg { background-color: var(--light-green-bg) !important; }
.valor-negativo { color: var(--danger-color); }
.valor-positivo { color: var(--success-color); }
.colunas-view { display: flex; flex-wrap: nowrap; gap: 20px; overflow-x: auto; padding-bottom: 15px; background-color: var(--page-bg); border: none; box-shadow: none; }
.conta-coluna { flex: 0 0 600px; border: 1px solid var(--border-color); border-radius: 8px; background-color: var(--container-bg); overflow: hidden; transition: flex-basis 0.4s ease-in-out; }
.conta-header { display: flex; justify-content: space-between; align-items: center; padding: 10px 15px; background-color: #e9ecef; margin: 0; border-bottom: 1px solid var(--border-color); cursor: pointer; }
.conta-header.hoje { background-color: var(--light-green-bg); }
.conta-header h4 { margin: 0; flex-grow: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.conta-header .saldo-header { font-size: 1.1em; font-weight: bold; transition: opacity 0.3s; }
.conta-coluna .conta-header .acao-btn { font-size: 1em; padding: 5px; }
.conta-coluna table { margin-top: 0; transition: opacity 0.3s; }
.conta-coluna.minimized { flex-basis: 50px; cursor: pointer; }
.conta-coluna.minimized .conta-header h4 { writing-mode: vertical-rl; transform: rotate(180deg); text-align: right; overflow: visible; margin: 10px 0; line-height: 1; height: 150px; }
.conta-coluna.minimized .saldo-header, .conta-coluna.minimized table { opacity: 0; height: 0; display: none; }
th.sortable { cursor: pointer; position: relative; padding-right: 20px; }
th.sortable::after { content: ''; position: absolute; right: 5px; top: 50%; margin-top: -7px; border-left: 5px solid transparent; border-right: 5px solid transparent; opacity: 0.3; }
th.sortable.ascending::after { border-bottom: 5px solid var(--text-primary); opacity: 1; }
th.sortable.descending::after { border-top: 5px solid var(--text-primary); opacity: 1; }
th.right-aligned-header { text-align: right; }
td.lucro { color: var(--success-color); }
td.prejuizo { color: var(--danger-color); }
.info-icon { color: var(--accent-color); margin-left: 5px; cursor: help; }
#tabela-historico-body input, #tabela-historico-body select { width: 100%; padding: 8px; font-size: 0.95em; border-radius: 3px; border: 1px solid var(--border-color); }
#resultados-inconsistencias { margin-top: 20px; padding: 15px; border: 1px solid var(--border-color); border-radius: 6px; background-color: #fdfdfd; }
#resultados-inconsistencias h4 { color: var(--danger-color); border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 10px; }
#resultados-inconsistencias ul { list-style-position: inside; padding-left: 10px; }
#resultados-inconsistencias li { margin-bottom: 8px; }
#resultados-inconsistencias .no-issues { color: var(--success-color); font-weight: bold; font-size: 1.1em; }
.ativo-row-clickable { cursor: pointer; }
.ativo-row-clickable:hover { background-color: #f5f5f5; }
.import-review-container { border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 25px; background-color: #fcfcfc; padding: 20px; }
.import-review-container h3 { border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 20px; }
.import-review-container .form-grid { background-color: #f5f5f5; padding: 15px; border-radius: 6px; }
.import-review-container table input { width: 100%; padding: 8px; font-size: 0.95em; border-radius: 3px; border: 1px solid var(--border-color); }
.import-review-container.new-asset h3::after { content: '(Novo Ativo Cadastrado)'; color: var(--success-color); font-size: 0.8em; font-style: italic; margin-left: 10px; }
.linha-mes-ir { cursor: pointer; }
.linha-mes-ir:hover { background-color: #f5f5f5; }
.ir-details-row td { padding: 0 !important; border-bottom: 2px solid var(--accent-color) !important; }
.ir-details-row table { margin: 0; background-color: #fafafa; }
.ir-details-row th { background-color: #e9ecef; font-size: 0.95em; padding: 8px; }
.ir-details-row td { font-size: 0.9em; padding: 8px !important; }
#select-ativo-historico option.posicao-zerada { color: #888; font-style: italic; }
#resumo-dividendos-container .form-grid { background-color: #f8f9fa; padding: 15px; border-radius: 6px; }
#resumo-dividendos-container .form-grid div { padding: 5px; }
.info-esc { text-align: center; margin-top: 20px; color: #777; font-size: 0.9em; }
#lista-de-proventos .col-provento-valor { width: 12%; }
#lista-de-proventos .col-provento-qtd { width: 10%; }
#lista-de-proventos .col-provento-yoc { width: 8%; }
#lista-vendas-historicas-container table { width: 100%; margin-top: 0; }
#lista-vendas-historicas-container th, #lista-vendas-historicas-container td { padding: 10px 8px; }
#lista-vendas-historicas-container .venda-input-col { width: 180px; }
#lista-vendas-historicas-container input { width: 100%; padding: 8px; font-size: 0.95em; text-align: right; border-radius: 3px; border: 1px solid var(--border-color); }
td.editable-result { cursor: pointer; position: relative; background-color: #f0f9ff; }
td.editable-result.adjusted::after { content: "✎"; font-size: 0.8em; color: var(--accent-color); position: absolute; top: 2px; right: 2px; }

.info-buttons-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
}
.info-button {
    background-color: #e9ecef;
    color: #495057;
    border: 1px solid #dee2e6;
    border-radius: 5px;
    padding: 5px 15px;
    min-height: 50px;
    cursor: pointer;
    font-size: 0.9em;
    font-weight: bold;
    transition: background-color 0.2s, color 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    white-space: normal;
}
.info-button:not(:disabled):hover {
    background-color: var(--sidebar-hover);
    color: var(--sidebar-text);
}
.info-button:disabled {
    background-color: #f8f9fa;
    color: #adb5bd;
    cursor: not-allowed;
    opacity: 0.7;
}
#modal-tir-detalhes h4 {
    color: var(--sidebar-bg);
    margin-top: 15px;
    margin-bottom: 10px;
    padding-bottom: 5px;
    border-bottom: 2px solid var(--accent-color);
}
#modal-tir-detalhes table {
    font-size: 1em;
}
#modal-tir-detalhes th, #modal-tir-detalhes td {
    padding: 12px;
}
#modal-tir-container-geral table {
    background-color: var(--light-green-bg);
}
#calendario-container .calendario-ano, #calendario-container-acoes .calendario-ano {
    margin-bottom: 30px;
}
#calendario-container .calendario-ano h4, #calendario-container-acoes .calendario-ano h4 {
    background-color: var(--sidebar-bg);
    color: var(--sidebar-text);
    padding: 10px;
    border-radius: 6px;
}
#calendario-container table, #calendario-container-acoes table {
    table-layout: fixed;
    border-collapse: separate;
    border-spacing: 0 8px;
    margin-top: 10px;
}
#calendario-container th, #calendario-container-acoes th {
    background-color: var(--page-bg);
    font-size: 0.9em;
    padding: 10px 5px;
    text-align: center;
}
#calendario-container td, #calendario-container-acoes td {
    border: none;
    padding: 5px;
    vertical-align: top;
    font-size: 0.85em;
    border-right: 1px solid #f0f0f0;
}
#calendario-container tr:nth-child(even) .provento-item, #calendario-container-acoes tr:nth-child(even) .provento-item {
    background-color: #f9f9f9;
}
#calendario-container .col-ativo, #calendario-container-acoes .col-ativo {
    width: 120px;
    font-weight: bold;
    text-align: left;
    vertical-align: middle;
    padding-left: 10px;
}
#calendario-container .col-mes, #calendario-container-acoes .col-mes {
    text-align: center;
    width: 100px;
}
#calendario-container .provento-item, #calendario-container-acoes .provento-item {
    border: 1px solid #e9ecef;
    border-radius: 4px;
    padding: 8px;
    line-height: 1.5;
}
#calendario-container .provento-item div, #calendario-container-acoes .provento-item div {
    white-space: nowrap;
}
#calendario-container .provento-valor-total, #calendario-container-acoes .provento-valor-total {
    font-weight: bold;
    color: var(--success-color);
    font-size: 1.1em;
}
#calendario-container .provento-detalhe, #calendario-container-acoes .provento-detalhe {
    color: #6c757d;
}
#calendario-container .calendario-total-row td, #calendario-container-acoes .calendario-total-row td {
    font-weight: bold;
    text-align: center;
    padding-top: 10px;
    border-top: 2px solid var(--accent-color);
    background-color: #f8f9fa;
}

/* NOVOS ESTILOS PARA RENDA FIXA */
#posicao-rf-container .editable-cell {
    background-color: #fffacd;
    cursor: text;
    border-radius: 3px;
    padding: 8px;
}
.btn-acao-rf {
    margin: 0 4px;
    padding: 4px 8px;
    font-size: 0.8em;
}
#config-ir-fixa {
    padding: 15px;
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 6px;
    margin-top: 20px;
}
#config-ir-fixa h4, #config-ir-variavel h4 {
    margin-top: 0;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
    margin-bottom: 15px;
}
#modal-aporte-rf p, #modal-resgate-rf p, #modal-historico-rf p {
    background-color: #f8f9fa;
    padding: 10px;
    border-radius: 4px;
    margin-bottom: 15px;
}

#modal-historico-rf .mov-aporte { background-color: #e6ffed; }
#modal-historico-rf .mov-resgate { background-color: #fff0f0; }

/* NOVOS ESTILOS PARA MOEDAS ESTRANGEIRAS */
.input-com-simbolo {
    position: relative;
    display: flex;
    align-items: center;
}
.input-com-simbolo .moeda-simbolo {
    position: absolute;
    left: 10px;
    font-size: 1.1em;
    color: #888;
}
.input-com-simbolo input {
    padding-left: 30px;
    width: 100%;
}
#lista-de-moedas-cadastradas .valor-real {
    font-style: italic;
    color: #555;
    font-size: 0.9em;
}
#lista-de-moedas-cadastradas .total-moedas {
    margin-top: 20px;
    padding-top: 15px;
    border-top: 2px solid var(--accent-color);
    text-align: right;
    font-size: 1.2em;
    font-weight: bold;
}

/* === NOVOS ESTILOS PARA ALOCAÇÃO DE ATIVOS (MELHORIAS) === */

/* Cabeçalho de resumo nas telas de posição */
.page-header-summary {
    background-color: #fafafa;
    border: 1px solid #eee;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
    display: flex;
    justify-content: space-around;
    align-items: center;
    text-align: center;
    flex-wrap: wrap;
    gap: 20px;
}
.summary-item {
    font-size: 1.1em;
}
.summary-item span {
    display: block;
    font-weight: bold;
    font-size: 1.3em;
    margin-top: 5px;
}
.summary-item .desempenho-percentual {
    font-size: 1.2em;
    margin-left: 5px;
}

/* Coluna de alocação e seus valores */
.coluna-alocacao {
    width: 12%;
}
.alocacao-valor-real {
    display: block;
    font-size: 0.85em;
    color: var(--secondary-color);
    margin-top: 2px;
}
td .alocacao-ativo-input {
    width: 80px;
    text-align: right;
    padding: 6px;
    font-size: 1em;
    border-radius: 3px;
    border: 1px solid #ccc;
    background-color: #fffacd;
}
/* Alinha o cabeçalho das colunas de alocação à direita */
th.coluna-alocacao {
    text-align: right;
}

/* Rodapé da tabela para soma da alocação */
tfoot td {
    font-weight: bold;
    background-color: var(--page-bg);
    border-top: 2px solid var(--accent-color);
}
tfoot .soma-alocacao-invalida {
    color: var(--danger-color);
}

/* Oculta colunas de alocação quando um filtro de corretora está ativo */
.filtro-corretora-ativo .coluna-alocacao {
    display: none;
}

/* Painel de alocação no Dashboard */
.dashboard-alocacao-panel {
    padding: 20px;
    background-color: #f8f9fa;
    border: 1px solid #eee;
    border-radius: 8px;
}
.dashboard-alocacao-panel h3 {
    margin-top: 0;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 10px;
}
.dashboard-alocacao-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px 25px;
    margin-top: 15px;
}
.dashboard-alocacao-grid .form-group {
    margin-bottom: 0;
}
.dashboard-alocacao-total {
    grid-column: 1 / -1; /* Ocupa toda a largura */
    text-align: right;
    font-size: 1.2em;
    font-weight: bold;
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid var(--border-color);
}
.dashboard-alocacao-total .valor-total-alocacao {
    margin-left: 10px;
}

/* === FIM DOS NOVOS ESTILOS === */


/* NOVOS ESTILOS PARA O DASHBOARD */
#dashboard-summary-cards {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 20px;
    margin-bottom: 25px;
}
.summary-card {
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    text-align: center;
    border: 1px solid #eee;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}
#tela-dashboard .summary-cards {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 20px;
    margin-bottom: 25px;
}
.summary-card .card-title {
    margin-bottom: 10px;
    font-size: 1em;
    color: #555;
    font-weight: 600;
}
.summary-card .card-value {
    font-size: 1.8em;
    font-weight: 600;
    color: var(--accent-color);
}
.dashboard-table th {
    font-size: 1em;
}
.dashboard-table td {
    padding-top: 15px;
    padding-bottom: 15px;
}

/* NOVOS ESTILOS PARA TELA DE POSIÇÃO POR CORRETORA */
.bloco-corretora {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    margin-bottom: 25px;
    background-color: #fff;
    overflow: hidden;
}
.bloco-corretora-header {
    background-color: var(--sidebar-bg);
    color: var(--sidebar-text);
    padding: 12px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.bloco-corretora-header h3 {
    margin: 0;
    color: var(--sidebar-text);
    font-size: 1.4em;
}
.bloco-corretora-header .total-corretora {
    font-size: 1.3em;
    font-weight: bold;
}
.bloco-corretora-contas {
    padding: 15px 20px;
    background-color: #f8f9fa;
    border-bottom: 1px solid var(--border-color);
}
.bloco-corretora-contas .conta-item {
    display: flex;
    justify-content: space-between;
    padding: 6px 0;
    font-size: 1.05em;
}
.bloco-corretora-conteudo {
    padding: 20px;
}
.bloco-corretora-conteudo h4 {
    margin-top: 15px;
    margin-bottom: 10px;
    border-bottom: 2px solid #eee;
    padding-bottom: 8px;
    font-size: 1.2em;
    color: #444;
}
.bloco-corretora-conteudo h4:first-child {
    margin-top: 0;
}
.bloco-corretora-conteudo table {
    margin-top: 10px;
}

/* NOVOS ESTILOS PARA TABELA DE BALANCEAMENTO (ADICIONADOS) */
.balanceamento-tabela th.group-header {
    text-align: center;
    border-bottom: 1px solid #ccc;
}

.balanceamento-tabela .group-2 {
    background-color: #f8f9fa;
}

/* NOVOS ESTILOS PARA EVENTOS DE ATIVOS */
#evento-saida-posicao-container table {
    margin-top: 10px;
}
#evento-saida-posicao-container th {
    background-color: #f8f9fa;
}
#evento-saida-posicao-container .qtd-saida-input {
    width: 100px;
    text-align: right;
}
#evento-entrada-corretoras-container .form-row {
    gap: 15px;
    align-items: flex-end;
}
/* Correção de Contraste para Botões Específicos */
#btn-restaurar,
#btn-verificar-inconsistencias {
    background-color: var(--secondary-color); /* Usando a variável de cor secundária para consistência */
    color: var(--sidebar-text); /* Usando a variável de texto da sidebar (branco/claro) */
    font-weight: bold;
}
#btn-restaurar:hover, /* REMOVIDO O SELETOR #btn-restaurar DAQUI */
#btn-verificar-inconsistencias:hover {
    background-color: #7f8c8d; /* Um tom um pouco mais escuro para o efeito hover */
}
/* NOVOS ESTILOS PARA MODAL DE CORREÇÃO DE PROVENTOS ÓRFÃOS */
#lista-proventos-orfaos-container table {
    margin-top: 0;
    table-layout: fixed; /* Força as larguras das colunas a serem respeitadas */
}

#lista-proventos-orfaos-container th {
    background-color: #f8f9fa;
    text-align: left;
    padding-left: 8px;
}
#lista-proventos-orfaos-container td {
    vertical-align: top;
    padding-top: 15px;
}

/* Define larguras específicas para as colunas */
#lista-proventos-orfaos-container .col-ativo-correcao { width: 15%; }
#lista-proventos-orfaos-container .col-data-correcao { width: 15%; }
#lista-proventos-orfaos-container .col-pm-correcao { width: 20%; }
#lista-proventos-orfaos-container .col-posicoes-correcao { width: 50%; }

/* Estiliza os inputs e selects dentro do modal */
#lista-proventos-orfaos-container input,
#lista-proventos-orfaos-container select {
    width: 100%;
    padding: 8px;
    font-size: 0.95em;
}
#lista-proventos-orfaos-container .correcao-ativo-container {
    padding-top: 8px;
}
#lista-proventos-orfaos-container .posicoes-por-corretora-wrapper {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
#lista-proventos-orfaos-container .linha-corretora-correcao {
    display: flex;
    align-items: center;
    gap: 10px;
}
#lista-proventos-orfaos-container .btn-add-corretora-provento {
    align-self: flex-start;
    margin-top: 5px;
}

/* ================================================================== */
/* == Bloco Consolidado de Correções e Melhorias de Layout (Junho 2025) == */
/* ================================================================== */

/* 1. Correção de Contraste para Botões em Configurações */
#btn-restaurar,
#btn-verificar-inconsistencias {
    background-color: var(--secondary-color);
    color: var(--sidebar-text);
    font-weight: bold;
}

#btn-restaurar:hover,
#btn-verificar-inconsistencias:hover {
    background-color: #7f8c8d;
}

/* 2. Layout do Modal de Correção de Proventos Órfãos */
#lista-proventos-orfaos-container table {
    margin-top: 0;
    table-layout: fixed; /* Força as larguras das colunas a serem respeitadas */
}

#lista-proventos-orfaos-container th {
    background-color: #f8f9fa;
    text-align: left;
    padding-left: 8px;
}
#lista-proventos-orfaos-container td {
    vertical-align: top;
    padding-top: 15px;
}

/* Define larguras específicas para as colunas */
#lista-proventos-orfaos-container .col-ativo-correcao { width: 15%; }
#lista-proventos-orfaos-container .col-data-correcao { width: 15%; }
#lista-proventos-orfaos-container .col-pm-correcao { width: 20%; }
#lista-proventos-orfaos-container .col-posicoes-correcao { width: 50%; }

/* Estiliza os inputs e selects dentro do modal */
#lista-proventos-orfaos-container input,
#lista-proventos-orfaos-container select {
    width: 100%;
    padding: 8px;
    font-size: 0.95em;
}
#lista-proventos-orfaos-container .correcao-ativo-container {
    padding-top: 8px;
}
#lista-proventos-orfaos-container .posicoes-por-corretora-wrapper {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
#lista-proventos-orfaos-container .linha-corretora-correcao {
    display: flex;
    align-items: center;
    gap: 10px;
}
#lista-proventos-orfaos-container .btn-add-corretora-provento {
    align-self: flex-start;
    margin-top: 5px;
}

/* 3. Correção do Tamanho do Campo de Preço Médio (Modal de Entrada de Evento) */
#form-evento-ativo .form-group #evento-ativo-pm {
    width: 100%; 
    max-width: 250px;
}


/* === NOVOS ESTILOS (IMPLEMENTAÇÃO DAS IDEIAS) === */

/* Cores para o status de balanceamento */
.status-ok {
    color: #007bff; /* Azul */
    font-weight: bold;
}
.status-aportar {
    color: #2b62ee;
    font-weight: bold;
}
.status-reduzir {
    color: var(--danger-color); /* Vermelho (reutilizando variável) */
    font-weight: bold;
}

/* Alinhamento de cabeçalhos de tabelas */
th.header-numero {
    text-align: right;
}

/* Estilos para a nova tela de Calendário Geral de Proventos */
#tela-calendario-geral .calendario-ano-container {
    margin-bottom: 30px;
}
#tela-calendario-geral .calendario-ano-container h3 {
    background-color: var(--sidebar-bg);
    color: var(--sidebar-text);
    padding: 10px 15px;
    border-radius: 6px;
    margin-bottom: 15px;
}
#tela-calendario-geral table {
    font-size: 1em;
}
#tela-calendario-geral th {
    font-size: 0.95em;
    padding: 12px 8px;
}
#tela-calendario-geral .total-row td {
    font-weight: bold;
    border-top: 2px solid var(--accent-color);
    background-color: #f8f9fa;
}
/* === NOVOS ESTILOS (FREQUÊNCIA DE PROVENTOS) === */
.frequencia-titulo {
    margin-top: 20px;
    margin-bottom: 15px;
    font-size: 1.1em;
    color: var(--sidebar-bg);
}
.frequencia-ano-bloco {
    background-color: #f8f9fa;
    border: 1px solid #e9ecef;
    border-radius: 6px;
    padding: 15px;
    margin-bottom: 10px;
}
.frequencia-ano-bloco strong {
    font-size: 1.2em;
    color: var(--text-primary);
}
.frequencia-linha {
    margin-top: 8px;
    font-size: 0.95em;
    color: #333;
}
.frequencia-linha span {
    font-weight: bold;
    color: #555;
    margin-right: 5px;
}
/* === NOVOS ESTILOS (SALDO PROJETADO) === */
.conta-header .saldo-futuro-header {
    display: block;
    font-size: 0.9em;
    font-weight: normal;
    font-style: italic;
    color: var(--secondary-color);
    margin-top: 4px;
    opacity: 0.9;
}
/* MELHORIAS NA VISTA MINIMIZADA (EXTRATO DE CONTAS) */

/* Esconde os saldos minimizados por padrão */
.conta-header h4 .saldo-minimizado,
.conta-header h4 .saldo-futuro-minimizado {
    display: none;
}

/* Mostra e estiliza os saldos quando a conta está minimizada */
.conta-coluna.minimized .conta-header h4 .saldo-minimizado,
.conta-coluna.minimized .conta-header h4 .saldo-futuro-minimizado {
    display: block;
    font-weight: normal;
    font-size: 0.8em;
    margin-top: 8px;
    color: var(--sidebar-text);
    opacity: 0.9;
}

.conta-coluna.minimized .conta-header h4 .saldo-minimizado {
    font-weight: bold;
    font-size: 0.9em;
    color: #333333;
}

/* Garante que o nome da conta e os saldos fiquem juntos na vertical */
.conta-coluna.minimized .conta-header h4 {
    height: auto; /* Permite que a altura se ajuste ao conteúdo */
    padding: 10px 0;
}
/* ESTILOS PARA O NOVO CALENDÁRIO DE DATA-COM */
.calendario-datacom-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
    table-layout: fixed;
}
.calendario-datacom-table th {
    background-color: #f8f9fa;
    padding: 10px 5px;
    text-align: center;
    font-weight: bold;
    border: 1px solid #dee2e6;
}
.calendario-datacom-table td {
    border: 1px solid #dee2e6;
    padding: 8px;
    text-align: center;
    height: 40px; /* Garante uma altura mínima para as células */
    vertical-align: middle;
    font-size: 0.9em;
    font-weight: 500;
}
/* --- Estilos para Subtítulos do Calendário de Ações --- */

.page-subheader {
    display: flex; /* Coloca os títulos lado a lado */
    justify-content: flex-start; /* Alinha à esquerda */
    gap: 20px; /* Espaço entre os subtítulos */
    margin-top: -10px; /* Aproxima do título principal */
    margin-bottom: 15px;
}

.subtitulo-calendario {
    font-size: 1.2em;
    font-weight: normal;
    color: #888; 
    margin: 0;
    padding: 0;
    transition: all 0.2s ease-in-out;
    cursor: pointer; /* <-- ADICIONE ESTA LINHA */
}

.subtitulo-calendario.ativo {
    font-weight: bold;
    color: #333; /* Cor para o subtítulo ativo (mais escura) */
}
/* --- Estilos para o novo Painel de Resumo de Proventos --- */

#proventos-summary-container {
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 8px;
}

#proventos-summary-ativo-info h4 {
    text-align: center;
    color: var(--accent-color);
    margin-bottom: 5px;
}

#proventos-summary-titulo {
    text-align: center;
    font-size: 1.2em;
    margin-bottom: 20px;
    color: #495057;
}

.summary-panel-container hr {
    border: none;
    border-top: 1px solid #ddd;
    margin: 20px 0;
}

.summary-monetary-values {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    gap: 20px;
    text-align: center;
}

.summary-data-point {
    display: flex;
    flex-direction: column;
}

.summary-data-point.large label {
    font-size: 1em;
    font-weight: 500;
    color: #6c757d;
    margin-bottom: 8px;
}

.summary-data-point.large span {
    font-size: 1.6em;
    font-weight: 600;
    color: var(--text-primary);
}

.summary-columns-container {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    gap: 30px;
}

.summary-column {
    background-color: #fff;
    padding: 15px;
    border-radius: 6px;
    border: 1px solid #e9ecef;
    min-width: 250px;
    flex: 1;
}

.summary-column h4 {
    text-align: center;
    margin-top: 0;
    margin-bottom: 15px;
    color: var(--sidebar-bg);
}

.summary-column .summary-data-point {
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    border-bottom: 1px solid #f0f0f0;
}
.summary-column .summary-data-point:last-child {
    border-bottom: none;
}

.summary-column .summary-data-point label {
    font-size: 0.9em;
    color: #333;
}

.summary-column .summary-data-point span {
    font-size: 1.1em;
    font-weight: bold;
}
/* --- ESTILOS CORRIGIDOS E BLINDADOS PARA A TELA DE NEGOCIAÇÃO --- */

.trade-section {
    margin-top: 30px;
}

/* 1. O Container de Rolagem (ESSENCIAL PARA CRIAR A BARRA LATERAL) */
.table-responsive {
    display: block;
    width: 100%;
    overflow-x: auto; /* Ativa o scroll horizontal */
    -webkit-overflow-scrolling: touch; 
    margin-bottom: 15px;
    border: 1px solid var(--border-color);
}

/* 2. A Tabela Fixa (COM LARGURA MÍNIMA TRAVADA) */
.trade-table {
    table-layout: fixed;    
    width: 100%;            
    min-width: 1400px; /* <--- O SEGREDO: Impede que a tabela encolha demais */
    border-collapse: collapse;
}

.trade-table tbody input {
    width: 100%; 
    max-width: 80px; 
    padding: 4px;
    border: 1px solid #ccc;
    border-radius: 4px;
    text-align: right;
    box-sizing: border-box;
}

.trade-table tfoot td {
    font-weight: bold;
    background-color: #f8f9fa;
}

/* Larguras das colunas para garantir alinhamento */
.trade-table th:nth-child(1), 
.trade-table td:nth-child(1) {
    width: 100px; 
}

.trade-table .col-qtd {
    width: 70px;
}

.trade-table .controles-col {
    width: 50px;
}

/* --- ESTILOS DO PAINEL DE APORTE --- */
.aporte-panel {
    background-color: var(--sidebar-bg);
    color: white;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
}

.aporte-input-group {
    display: flex;
    align-items: center;
    gap: 10px;
}

.aporte-input-group label {
    font-size: 1.1em;
    font-weight: bold;
    color: #FFFFFF; /* Garante texto branco */
    margin-bottom: 0;
}

.aporte-input-group input {
    padding: 8px;
    font-size: 1.1em;
    width: 150px;
    text-align: right;
    border: 1px solid #ccc;
    border-radius: 4px;
}

.aporte-summary {
    display: flex;
    gap: 25px;
}

.aporte-summary .summary-data-point {
    text-align: right;
}

.aporte-summary .summary-data-point label {
    font-size: 0.9em;
    color: #bdc3c7;
    display: block;
}

.aporte-summary .summary-data-point span {
    font-size: 1.2em;
    font-weight: 500;
}

.aporte-summary .summary-data-point.total span {
    font-size: 1.4em;
    font-weight: bold;
    color: var(--accent-color);
}
/* --- Ajuste de Largura para Colunas de Quantidade --- */
.trade-table .col-qtd {
    width: 90px;
}
/* --- ESTILOS PARA O GRÁFICO DO DASHBOARD --- */
.grafico-container {
    position: relative;
    width: 100%;
    max-width: 450px; /* Define uma largura máxima para o gráfico */
    height: 450px;    /* Define uma altura */
    margin: 0 auto;   /* Centraliza o container do gráfico */
}
/* --- ESTILOS PARA O GRÁFICO DE BARRAS DE PROVENTOS --- */
.grafico-barras-container {
    position: relative;
    width: 100%;
    height: 400px; /* Uma altura um pouco menor, ideal para barras */
    margin-top: 20px;
}

/* NOVOS ESTILOS PARA A ALTERAÇÃO */
.trade-table .group-header-centered {
    text-align: center;
}
.col-price-range-vertical {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    justify-content: center;
    line-height:1.2;
    font-size: 0.9em;
}

.col-price-range-vertical span:first-child {
    color: var(--danger-color);
}
.col-price-range-vertical span:last-child {
    color: var(--success-color);
}
.page-header {
    position: relative; 
}
.btn-backup-flutuante {
    position: absolute;
    top: 20px;
    right: 20px;
    padding: 5px 10px;
    font-size: 0.85em;
    z-index: 10; /* Garante que fique por cima de outros elementos do header */
}
.conta-coluna .coluna-saldo {
    font-weight: bold;
}
#titulo-calendario-geral {
    cursor: pointer;
    text-decoration: underline;
    text-decoration-style: dashed;
    text-decoration-color: var(--secondary-color);
    text-underline-offset: 4px;
    transition: color 0.2s;
}
#titulo-calendario-geral:hover {
    color: var(--accent-color);
}

.valor-projetado {
    color: var(--secondary-color);
    font-style: italic;
}
/* ESTILOS PARA PREÇO ATUAL E DESEMPENHO */
.preco-maior {
    color: #2b62ee; 
    font-weight: bold;
}

.preco-menor {
    color: var(--danger-color); /* Vermelho (usando sua variável existente) */
    font-weight: bold;
}
.col-variacao {
    font-size: 0.85em; /* Reduz a fonte para 85% do tamanho normal */
    width: 6%;       /* Define uma largura um pouco menor para a coluna */
}
/* === NOVOS ESTILOS (CALENDÁRIO DE PROVENTOS DE AÇÕES) === */

.provento-item-acao {
    border: 1px solid #e9ecef;
    border-radius: 4px;
    padding: 8px;
    line-height: 1.5;
    background-color: #fdfdfd;
}

.provento-ticker-calendario {
    font-weight: bold;
    color: var(--sidebar-bg);
    font-size: 1.1em;
}

.provento-detalhe-calendario {
    color: #6c757d;
    font-size: 0.9em;
}

.provento-detalhe-calendario:first-of-type {
    margin-top: 4px;
}
/* === NOVOS ESTILOS (TRANSAÇÕES RECORRENTES) === */

.radio-group {
    display: flex;
    gap: 15px;
    align-items: center;
    background-color: #f8f9fa;
    padding: 10px;
    border-radius: 6px;
    border: 1px solid #dee2e6;
}

.radio-group input[type="radio"] {
    margin-right: 5px;
}

.radio-group label {
    margin-bottom: 0;
    cursor: pointer;
}

#recorrencia-options h4 {
    margin-top: 20px;
    color: var(--accent-color);
}

#recorrencia-options hr {
    margin: 20px 0;
    border: none;
    border-top: 1px solid var(--border-color);
}
/* === ESTILOS PARA TRANSAÇÕES RECORRENTES FUTURAS === */

.transacao-futura {
    font-style: italic;
    color: #6c757d; /* Um cinza mais suave */
    background-color: #f8f9fa;
}

.transacao-futura td {
    opacity: 0.8;
}

.acao-btn-recorrente {
    cursor: pointer;
    margin: 0 5px;
    font-size: 1.1em;
}

.acao-btn-recorrente.confirmar {
    color: var(--success-color);
}

.acao-btn-recorrente.pular {
    color: var(--danger-color);
}
/* ESTILOS PARA O MODAL DE AÇÃO RECORRENTE */
#modal-acao-recorrente .modal-content {
    text-align: center;
}

#modal-acao-recorrente .close-btn {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 28px;
    font-weight: bold;
    color: #aaa;
    cursor: pointer;
}

#modal-acao-recorrente p {
    margin-bottom: 10px;
    color: #555;
}
#modal-acao-recorrente p strong {
    color: #333;
}

#modal-acao-recorrente hr {
    margin: 20px 0;
    border: none;
    border-top: 1px solid var(--border-color);
}

.acao-recorrente-grid {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-top: 20px;
    margin-bottom: 20px;
}

.acao-recorrente-btn {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    text-align: left;
    padding: 15px;
    line-height: 1.4;
    border-radius: 6px;
    transition: transform 0.2s;
}

.acao-recorrente-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.acao-recorrente-btn i {
    margin-bottom: 8px;
    font-size: 1.4em;
    align-self: center;
}

.acao-recorrente-btn span {
    font-weight: bold;
    font-size: 1.05em;
}

.acao-recorrente-btn small {
    font-weight: normal;
    opacity: 0.9;
    font-size: 0.85em;
    margin-top: 5px;
}

#modal-acao-recorrente .btn-cancelar {
    background: none;
    border: none;
    color: var(--secondary-color);
    text-decoration: underline;
    cursor: pointer;
    padding: 10px;
}

#modal-acao-recorrente .btn-primario { background-color: var(--accent-color); }
#modal-acao-recorrente .btn-secundario { background-color: #5a6268; }
#modal-acao-recorrente .btn-perigo { background-color: var(--danger-color); }
/* === ESTILOS PARA NOVA TELA DE REBALANCEAMENTO === */
.rebalanceamento-container {
    display: flex;
    gap: 30px;
    flex-wrap: wrap;
}
.rebalanceamento-coluna {
    flex: 1;
    min-width: 300px;
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
    border: 1px solid #dee2e6;
}
.rebalanceamento-coluna h4 {
    margin-top: 0;
    padding-bottom: 10px;
    border-bottom: 1px solid #ddd;
}
.rebalanceamento-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 5px;
    font-size: 1.05em;
    border-bottom: 1px solid #f0f0f0;
}
.rebalanceamento-item:last-child {
    border-bottom: none;
}
.rebalanceamento-total-header {
    text-align: center;
    margin-bottom: 25px;
}
.rebalanceamento-total-header span {
    font-size: 1.5em;
    font-weight: bold;
    color: var(--accent-color);
}
/* ESTILOS PARA O NOVO CABEÇALHO DO MODAL DE ALOCAÇÃO */
.balanceamento-categoria-summary {
    display: flex;
    justify-content: space-around;
    text-align: center;
    padding: 15px;
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    margin-bottom: 25px;
    gap: 20px;
}
.balanceamento-categoria-summary > div {
    display: flex;
    flex-direction: column;
}
.balanceamento-categoria-summary label {
    font-size: 0.9em;
    color: #6c757d;
    margin-bottom: 5px;
}
.balanceamento-categoria-summary span {
    font-size: 1.4em;
    font-weight: 600;
}
.balanceamento-categoria-summary .remanejamento-valor span {
    color: var(--accent-color);
}
/* --- NOVOS ESTILOS (FUNCIONALIDADES DE COMPARAÇÃO) --- */

/* Ícones de Exportação/Importação no Card do Dashboard */
.card-header-com-icones {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
}

.card-icones-container {
    display: flex;
    gap: 12px;
}

.card-icone {
    font-size: 1.1em;
    color: var(--secondary-color);
    cursor: pointer;
    transition: color 0.2s;
}

.card-icone:hover {
    color: var(--accent-color);
}

/* ESTILOS ATUALIZADOS PARA O PAINEL COMPARATIVO COM MULTI-MOEDAS */

.coluna-comparativa table {
    width: 100%;
    border-collapse: collapse;
}

.coluna-comparativa th {
    text-align: right;
    font-size: 0.8em;
    font-weight: 500;
    color: #6c757d;
    padding: 0 5px 8px 5px;
    border-bottom: 1px solid #eee;
}

.coluna-comparativa th:first-child {
    text-align: left;
}

.item-comparativo td {
    padding: 10px 5px;
    border-bottom: 1px solid #f0f0f0;
    text-align: right;
    vertical-align: middle;
}

.item-comparativo:last-child td {
    border-bottom: none;
}

.item-comparativo .label {
    text-align: left;
    font-weight: 500;
    color: #333;
}

.item-comparativo .valor {
    font-weight: 600;
}

.item-comparativo.total {
    font-size: 1.1em;
}

.item-comparativo.total td {
     border-top: 2px solid #ddd;
     padding-top: 15px;
     margin-top: 10px;
}

.item-comparativo.total .label,
.item-comparativo.total .valor {
    font-weight: bold;
    color: var(--sidebar-bg);
}

.col-moeda-comparativo {
    font-size: 0.9em;
    color: var(--secondary-color);
    font-weight: 400;
}

/* ESTILOS PARA O CABEÇALHO DO PAINEL COMPARATIVO */
.painel-comparativo-header {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 1px solid #eee;
}

.painel-comparativo-header h2 {
    margin: 0;
}

.patrimonio-somado {
    font-size: 1.2em;
    font-weight: 600;
    color: var(--accent-color);
}
.painel-comparativo-grid {
    display: grid;
    grid-template-columns: 1fr 1fr; /* Define duas colunas de tamanho igual */
    gap: 30px; /* Define um espaço de 30px entre as duas colunas */
}
/* AJUSTES FINAIS NO CABEÇALHO DO PAINEL COMPARATIVO */

.painel-comparativo-header {
    align-items: center; /* Alinha o título e o bloco de totais verticalmente */
}

/* Container para todos os valores de totais somados */
.total-somado-container {
    text-align: right;
}

/* Valor total principal em BRL */
.patrimonio-somado-brl {
    font-size: 1.2em;
    font-weight: 600;
    color: var(--accent-color);
    display: block; /* Faz com que ocupe uma linha inteira */
}

/* Container para os valores nas outras moedas */
.patrimonio-somado-moedas {
    display: flex;
    gap: 15px; /* Espaço entre os valores das moedas */
    justify-content: flex-end; /* Alinha à direita */
    margin-top: 5px;
}

/* Estilo para cada valor de moeda individual */
.patrimonio-somado-moedas span {
    font-size: 0.9em;
    color: var(--secondary-color);
}
/* Adicionado para estilizar campos desabilitados */
.form-group input:disabled {
    background-color: #e9ecef;
    opacity: 1; /* Garante que o texto não fique muito claro */
    cursor: not-allowed;
    color: #495057;
    font-weight: bold;
}
/* --- Estilos para o Tooltip Personalizado --- */
.custom-tooltip {
    position: absolute;
    display: none;
    padding: 10px;
    background-color: #333;
    color: #fff;
    border-radius: 5px;
    font-size: 0.9em;
    z-index: 1000;
    white-space: pre-wrap; /* Isso garante a quebra de linha */
    max-width: 350px;
    pointer-events: none; /* Impede que o tooltip interfira com o mouse */
}
/* --- ESTILOS PARA O PLANO DE AÇÃO INTELIGENTE --- */
.rebalanceamento-item.item-desabilitado {
    color: #888;
    font-style: italic;
    opacity: 0.7;
    background-color: #fcfcfc;
}

.rebalanceamento-item.item-desabilitado strong {
    font-weight: normal; /* Tira o negrito do valor */
}

.rebalanceamento-item .info-icon-rebalanceamento {
    margin-left: 8px;
    cursor: help;
    color: #555;
}
/* --- NOVOS ESTILOS PARA LAYOUT COMPACTO DO PLANO DE AÇÃO --- */
.rebalanceamento-item.item-aportar {
    display: flex;
    flex-direction: column; /* Organiza o item em duas linhas */
    align-items: stretch; /* Faz os itens internos ocuparem a largura total */
    padding: 6px 5px; /* Reduz o padding vertical */
}

.item-aportar-linha-principal {
    display: flex;
    justify-content: space-between; /* Mantém Ticker e Valor nos extremos */
    align-items: center;
    width: 100%;
}

.ticker-aporte {
    font-weight: 500;
}

.item-aportar .indicadores-aporte {
    justify-content: space-between; /* Espaça os indicadores */
    width: 100%;
    margin-top: 4px;
    display: flex; /* Coloca os indicadores lado a lado */
}

/* --- ESTILOS PARA INDICADORES NO PLANO DE AÇÃO --- */
.rebalanceamento-item .indicadores-aporte {
    display: block;
    font-size: 0.85em;
    color: #555; /* Um cinza escuro para boa legibilidade */
    font-style: italic;
    margin-top: 4px;
}

.indicadores-aporte .variacao-positiva {
    color: var(--success-color);
}

.indicadores-aporte .variacao-negativa {
    color: var(--danger-color);
}
/* --- ESTILO PARA ALERTA NO DASHBOARD --- */
.dashboard-alert {
    display: flex;
    align-items: center;
    gap: 15px;
    background-color: #eaf5ff;
    color: #2c3e50;
    border: 1px solid var(--accent-color);
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 20px;
}

.dashboard-alert i {
    font-size: 1.5em;
    color: var(--accent-color);
}

.dashboard-alert .link-alerta {
    margin-left: auto; /* Empurra o link para a direita */
    font-weight: bold;
    text-decoration: none;
    color: var(--accent-color);
    white-space: nowrap;
}

.dashboard-alert .link-alerta:hover {
    text-decoration: underline;
}
/* --- ESTILO PARA NOTA DE CÁLCULO DE YIELD --- */
.info-nota-calculo {
    font-size: 0.8em;
    font-style: italic;
    color: var(--secondary-color);
    margin-top: -8px;
    margin-bottom: 15px;
}
/* --- ESTILOS PARA O PAINEL DE BALANCEAMENTO INTERATIVO --- */
.rebalanceamento-item.item-pausado {
    background-color: #f1f1f1 !important;
    opacity: 0.6;
}

.rebalanceamento-item.item-pausado .ticker-aporte,
.rebalanceamento-item.item-pausado .valor-positivo,
.rebalanceamento-item.item-pausado .indicadores-aporte,
.rebalanceamento-item.item-pausado .sugestao-compra {
    text-decoration: line-through;
    color: #888 !important;
}

.icone-pausa-aporte {
    cursor: pointer;
    margin-left: 10px;
    font-size: 1.1em;
    color: var(--secondary-color);
    transition: color 0.2s;
}

.icone-pausa-aporte:hover {
    color: var(--accent-color);
}
/* --- ESTILOS PARA PLANO DE AÇÃO INTELIGENTE (ADICIONADOS/MELHORADOS) --- */
.rebalanceamento-item.item-pausado {
    background-color: #f1f1f1 !important;
    opacity: 0.6;
}

.rebalanceamento-item.item-pausado .ticker-aporte,
.rebalanceamento-item.item-pausado .valor-positivo,
.rebalanceamento-item.item-pausado .indicadores-aporte,
.rebalanceamento-item.item-pausado .sugestao-compra {
    text-decoration: line-through;
    color: #888 !important;
}

.icone-pausa-aporte {
    cursor: pointer;
    margin-left: 10px;
    font-size: 1.1em;
    color: var(--secondary-color);
    transition: color 0.2s;
}

.icone-pausa-aporte:hover {
    color: var(--accent-color);
}

.sugestao-compra {
    text-align: center;
}

.rebalanceamento-coluna.full-width {
    flex-basis: 100%; /* Faz a coluna ocupar toda a largura */
    max-width: 800px; /* Limita a largura máxima para melhor leitura */
    margin: 0 auto; /* Centraliza a coluna quando ela está em largura total */
}

.info-icon-rebalanceamento {
    color: var(--secondary-color);
    cursor: help;
}
/* === NOVOS ESTILOS PARA LINHAS DA TABELA DE BALANCEAMENTO === */

/* Remove a cor de fundo alternada padrão para esta tabela específica */
.balanceamento-tabela tbody tr:nth-child(even) {
    background-color: transparent;
}

/* Define as cores de fundo com base no status */
.balanceamento-tabela tbody tr.status-aportar {
    background-color: #eafaf1; /* Verde claro */
}
.balanceamento-tabela tbody tr.status-reduzir {
    background-color: #fdecea; /* Vermelho claro */
}
.balanceamento-tabela tbody tr.status-ok {
    background-color: #eaf5ff; /* Azul claro */
}

/* Melhora a cor do texto do status para manter o contraste */
.balanceamento-tabela td strong.status-aportar {
    color: #2b62ee;
}
.balanceamento-tabela td strong.status-reduzir {
    color: var(--danger-color);
}
.balanceamento-tabela td strong.status-ok {
    color: #007bff;
}

/* Efeito de hover para melhor usabilidade */
.balanceamento-tabela tbody tr:hover {
    background-color: #e9ecef !important; /* Cinza claro para qualquer linha */
}
#rebalanceamento-selecao-vendas-summary {
    text-align: right;
    margin: -15px 10px 15px 0;
    font-size: 0.9em;
    color: #555;
    font-style: italic;
}
#rebalanceamento-selecao-vendas-summary strong {
    color: var(--danger-color);
    font-weight: bold;
}
/* --- ESTILOS PARA O ALERTA DE PREÇO TETO GRAHAM --- */
.indicador-alerta-graham {
    font-size: 0.8em;
    font-style: italic;
    color: var(--warning-color); /* Usando a cor de aviso que você já definiu */
    font-weight: bold;
    margin-top: 5px;
    padding: 4px;
    background-color: #fffaf0; /* Fundo amarelo bem claro */
    border-radius: 4px;
    text-align: center;
    border: 1px solid #ffeeba; /* Borda sutil */
    cursor: help; /* Muda o cursor para indicar que há um tooltip */
}

.indicador-alerta-graham .fa-exclamation-triangle {
    margin-right: 5px;
}
/* --- NOVOS ESTILOS PARA PLANO DE AÇÃO (COLUNA REDUZIR) --- */
.rebalanceamento-item-header {
    display: flex;
    justify-content: space-between;
    font-weight: bold;
    font-size: 0.9em;
    padding: 5px;
    border-bottom: 1px solid #ccc;
    color: #555;
    margin-bottom: 5px;
}
.item-venda-valores-header {
    display: flex;
    gap: 15px;
    text-align: right;
    width: 200px;
    justify-content: space-between;
}
.item-venda-valores-header span {
    flex: 1;
}
.rebalanceamento-item.item-venda {
    flex-wrap: wrap; /* Permite que a mensagem de prejuízo quebre a linha */
}
.item-venda-controles {
    display: flex;
    align-items: center;
    gap: 8px;
    flex: 1; /* Faz ocupar o espaço disponível */
}
.item-venda-valores {
    display: flex;
    align-items: center;
    gap: 15px;
    width: 200px;
    justify-content: space-between; /* Espaça os valores */
}
.item-lucro-prejuizo {
    font-size: 0.95em;
    flex: 1;
    text-align: right;
}
.item-venda .valor-negativo {
    flex: 1;
    text-align: right;
}
.ticker-rebalanceamento {
    font-weight: 500;
    cursor: pointer;
}
.ticker-rebalanceamento:hover {
    color: var(--accent-color);
    text-decoration: underline;
}
.item-venda-checkbox input[disabled] + .ticker-rebalanceamento,
.item-venda-controles input[disabled] + .ticker-rebalanceamento {
    cursor: default;
    color: inherit;
    text-decoration: none;
}
.mensagem-prejuizo {
    width: 100%;
    text-align: right;
    font-size: 0.8em;
    color: #888;
    font-style: italic;
    margin-top: 3px;
    padding-right: 5px;
}
/* Estilo para Títulos com Ícones Clicáveis */
.titulo-com-icone {
    display: flex;
    align-items: center;
    gap: 15px; /* Espaço entre o texto e o ícone */
}

.icone-titulo {
    cursor: pointer;
    color: var(--accent-color);
    font-size: 1.1rem; /* Tamanho do ícone */
    transition: transform 0.2s ease-in-out;
}

.icone-titulo:hover {
    transform: scale(1.2);
}
/* --- ESTILOS PARA PROJEÇÃO FUTURA COM SCROLL --- */

/* 1. O container que terá a barra de rolagem */
.tabela-projecao-wrapper {
    overflow: auto; /* Adiciona barras de rolagem quando necessário */
    max-height: 60vh; /* Limita a altura máxima a 60% da tela */
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background: var(--container-bg);
}

.tabela-projecao-wrapper table {
    border-spacing: 0; /* Essencial para o position:sticky funcionar corretamente */
}

/* 2. Congela o cabeçalho (th) no topo */
.tabela-projecao-wrapper thead th {
    position: -webkit-sticky; /* Para compatibilidade com Safari */
    position: sticky;
    top: 0;
    z-index: 3; /* Garante que o cabeçalho fique por cima do conteúdo que rola */
    background: #f8f9fa; /* Cor de fundo para não ficar transparente */
}

/* 3. Congela a primeira coluna (td e th) à esquerda */
.tabela-projecao-wrapper tbody td:first-child,
.tabela-projecao-wrapper thead th:first-child,
.tabela-projecao-wrapper tfoot td:first-child {
    position: -webkit-sticky; /* Para compatibilidade com Safari */
    position: sticky;
    left: 0;
    z-index: 2; /* Fica acima das outras células, mas abaixo do cabeçalho */
    background: var(--container-bg); /* Fundo sólido para não ficar transparente */
    border-right: 2px solid #dee2e6; /* Linha divisória para clareza */
}

/* Ajusta o fundo para o cabeçalho da primeira coluna e rodapé */
.tabela-projecao-wrapper thead th:first-child,
.tabela-projecao-wrapper tfoot td:first-child {
    background-color: #f8f9fa;
}

/* 4. Garante que o canto superior esquerdo fique acima de tudo */
.tabela-projecao-wrapper thead th:first-child {
    z-index: 4;
}
/* --- ESTILOS PARA CALENDÁRIO DE RECORRÊNCIAS --- */

.calendario-recorrentes-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9em;
}

.calendario-recorrentes-table th,
.calendario-recorrentes-table td {
    border: 1px solid #dee2e6;
    padding: 8px;
    text-align: center;
    white-space: nowrap;
}

.calendario-recorrentes-table th.regra-header {
    width: 250px;
    text-align: left;
    background-color: #f8f9fa;
    position: -webkit-sticky; /* Congela a primeira coluna */
    position: sticky;
    left: 0;
    z-index: 2;
}

.calendario-recorrentes-table tbody td:first-child {
    text-align: left;
    font-weight: 500;
    position: -webkit-sticky; /* Congela a primeira coluna */
    position: sticky;
    left: 0;
    z-index: 1;
    background-color: var(--container-bg); /* Garante que não fique transparente */
}

.calendario-recorrentes-table .mes-header {
    background-color: #e9ecef;
    font-weight: bold;
    font-size: 1.1em;
    border-bottom: 2px solid var(--accent-color);
}

.calendario-recorrentes-table .dia-header {
    background-color: #f8f9fa;
    font-size: 0.9em;
}

.calendario-recorrentes-table .total-row td {
    font-weight: bold;
    background-color: #e9ecef;
}

.calendario-recorrentes-table .total-mes {
    font-size: 1.1em;
}
/* --- MELHORIA VISUAL PARA AGRUPAMENTO DE MÊS --- */

.calendario-recorrentes-table .mes-par {
    background-color: #f8f9fa; /* Um cinza bem claro para meses pares */
}

/* Garante que o fundo da primeira coluna congelada também mude de cor */
.calendario-recorrentes-table tbody td:first-child.mes-par {
    background-color: #f8f9fa;
}
/* --- ESTILOS PARA NOVAS FUNCIONALIDADES (LINKS E BOTÕES) --- */

/* Estiliza o ícone de '+' nos cabeçalhos dos modais */
#modal-calendario-titulo, #modal-calendario-acoes-titulo {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.btn-abrir-modal-provento {
    font-size: 1.5rem; /* Aumenta o tamanho do ícone */
    margin-left: auto; /* Empurra para a direita */
    padding-left: 20px;
}

/* Estiliza os tickers como links nos calendários */
.ticker-link {
    text-decoration: none;
    color: var(--sidebar-bg);
    font-weight: bold;
    transition: color 0.2s;
}

.ticker-link:hover {
    color: var(--accent-color);
    text-decoration: underline;
}
/* --- ESTILOS PARA EDIÇÃO DE PROVENTOS NO CALENDÁRIO --- */

/* Transforma o container do provento em um item interativo */
.provento-item-container {
    position: relative;
    cursor: pointer;
    border-radius: 4px;
    transition: background-color 0.2s, box-shadow 0.2s;
}

/* Efeito de hover para indicar que é clicável */
.provento-item-container:hover {
    background-color: #eaf5ff;
    box-shadow: 0 0 0 2px var(--accent-color);
}

/* Container para os ícones de ação (editar/excluir) */
.provento-acoes {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: rgba(44, 62, 80, 0.85); /* Cor da sidebar com transparência */
    padding: 8px 12px;
    border-radius: 20px;
    display: flex;
    gap: 15px;
    z-index: 10;
}

/* Estilo dos ícones de ação */
.provento-acoes i {
    color: white;
    font-size: 1.2em;
    transition: transform 0.2s;
}

.provento-acoes i:hover {
    transform: scale(1.2);
}
/* Adicione esta regra ao final do arquivo styles.css */
#calendario-container-acoes .col-mes {
    width: 180px; /* Aumenta a largura da coluna do mês */
}
/* --- ESTILOS PARA PROJEÇÃO DE SALDOS INTERATIVA --- */

.lancamento-projetado-clicavel {
    cursor: pointer;
    transition: background-color 0.2s;
}

.lancamento-projetado-clicavel:hover {
    background-color: #eaf5ff !important; /* Um azul bem claro para o hover */
}
/* --- ESTILOS PARA PROJEÇÃO DE SALDOS INTERATIVA --- */

.lancamento-projetado-clicavel {
    cursor: pointer;
    transition: background-color 0.2s;
}

.lancamento-projetado-clicavel:hover {
    background-color: #eaf5ff !important; /* Um azul bem claro para o hover */
}
/* Estilo para células com múltiplas transações no modal de projeção */
.lancamento-projetado-multiplo {
    cursor: help; /* Muda o cursor para um ponto de interrogação */
    font-style: italic;
    background-color: #f8f9fa; /* Um fundo cinza bem claro */
}
/* --- ESTILOS PARA O GRÁFICO DE APORTES VS PROVENTOS --- */
.grafico-header-com-toggle {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 15px;
}

.grafico-header-com-toggle h3 {
    margin-bottom: 0;
}

.chart-toggle-container {
    display: flex;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    overflow: hidden;
}

.chart-toggle-btn {
    padding: 8px 15px;
    border: none;
    background-color: transparent;
    cursor: pointer;
    font-size: 0.9em;
    color: var(--text-primary);
    transition: background-color 0.2s;
    font-weight: 500;
}

.chart-toggle-btn:not(:last-child) {
    border-right: 1px solid var(--border-color);
}

.chart-toggle-btn.ativo {
    background-color: var(--accent-color);
    color: white;
}

.chart-toggle-btn:not(.ativo):hover {
    background-color: #f0f2f5;
}

.chart-toggle-btn i {
    margin-right: 8px;
}
/* Estilo para a data de exportação no painel comparativo */
.data-comparacao {
    font-size: 0.9em; /* Tamanho um pouco menor */
    font-weight: normal; /* Garante que não esteja em negrito */
    font-style: italic;
    color: #888; /* Um tom de cinza */
    margin-left: 8px; /* Espaço entre o nome e a data */
}
#painel-comparativo-container {
    width: 100%;
}
.painel-comparativo-grid {
    display: flex;
    gap: 20px;
}
.coluna-comparativa {
    flex: 1;
    min-width: 0;
}
.painel-comparativo-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 1px solid #ddd;
}
.total-somado-container {
    text-align: right;
}
.patrimonio-somado-brl {
    font-size: 1.2em;
    font-weight: bold;
    display: block;
}
.patrimonio-somado-moedas span {
    font-size: 0.9em;
    color: #555;
    margin-left: 10px;
}
.saldo-diario-celula {
    display: block;
    margin-top: 5px;
    font-size: 0.85em;
    color: #6c757d;
    font-style: italic;
    border-top: 1px solid #e9ecef;
    padding-top: 5px;
}
.calendario-recorrentes-table td, .tabela-projecao-wrapper td {
    padding: 8px !important;
    vertical-align: top;
}
.lancamento-projetado-clicavel, .lancamento-projetado-multiplo {
    border: none;
    padding: 0;
    margin: 0;
    width: 100%;
    text-align: right;
}
/* Estilos de Botões Específicos (Alvo por ID) */
#btn-baixar-cotacoes-link,
#btn-importar-cotacoes-dashboard {
    background-color: #28a745;
    color: #ffffff;
    border: 1px solid #28a745;
}

#btn-baixar-cotacoes-link:hover,
#btn-importar-cotacoes-dashboard:hover {
    background-color: #218838;
    border-color: #1e7e34;
}
.valor-clicavel {
    cursor: pointer;
    text-decoration: underline dotted;
    font-weight: bold;
}
.valor-clicavel:hover {
    background-color: #f0f8ff; /* Um azul bem claro para o hover */
}
#calendario-container-acoes .calendario-ano table tbody tr td {
    border-top: 1px solid #e9ecef; /* Uma borda cinza clara e sutil */
}
#calendario-container-acoes .calendario-ano table tbody tr:first-child td {
    border-top: none;
}
.dashboard-table .valor-principal {
    display: block;
    font-weight: 500;
}
.dashboard-table .valor-secundario {
    display: block;
    font-size: 0.85em;
    margin-top: 2px;
}
/* Estilo para o subtítulo do dashboard que mostra a data de início */
.subtitulo-dashboard {
    margin-top: -15px; /* Puxa o subtítulo para mais perto do título principal */
    margin-bottom: 20px;
    font-size: 1em;
    font-weight: normal;
    color: #555;
    font-style: italic;
}
.meta-yield-display {
    display: block;
    font-size: 0.85em;
    color: #555;
    margin-top: 3px;
    font-style: italic;
}

.filtro-corretora-ativo thead th.coluna-alocacao {
    display: none;
}
/* --- INÍCIO: ESTILOS PARA O MÓDULO DE METAS --- */
.metas-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 20px;
}

.meta-card {
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    display: flex;
    flex-direction: column;
}

.meta-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    border-bottom: 1px solid var(--border-color);
}

.meta-card-header h3 {
    margin: 0;
    font-size: 1.2em;
    color: var(--sidebar-bg);
}

.meta-card-body {
    padding: 15px;
    flex-grow: 1;
}

.meta-progresso-info {
    display: flex;
    justify-content: flex-end;
    font-size: 0.9em;
    margin-bottom: 8px;
    color: #555;
}

.meta-progresso-barra-container {
    width: 100%;
    height: 12px;
    background-color: #e9ecef;
    border-radius: 6px;
    overflow: hidden;
}

.meta-progresso-barra {
    height: 100%;
    background-color: var(--success-color);
    border-radius: 6px;
    transition: width 0.5s ease-in-out;
}

.meta-valores {
    display: flex;
    justify-content: space-between;
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid #f0f0f0;
}

.meta-valor-item {
    text-align: center;
    flex: 1;
}

.meta-valor-item label {
    font-size: 0.9em;
    color: #6c757d;
    display: block;
    margin-bottom: 5px;
}

.meta-valor-item span {
    font-size: 1.3em;
    font-weight: 600;
}

.info-vazio {
    text-align: center;
    font-size: 1.1em;
    color: var(--secondary-color);
    padding: 40px 20px;
    background-color: #f8f9fa;
    border: 2px dashed var(--border-color);
    border-radius: 8px;
}
.meta-previsao {
    text-align: center;
    margin-top: 15px;
    font-size: 0.9em;
    color: var(--secondary-color);
    font-style: italic;
}
.meta-previsao strong {
    color: var(--text-primary);
    font-style: normal;
}
/* --- ESTILOS PARA O RESUMO DE METAS NO DASHBOARD --- */
#dashboard-metas-summary-container {
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
}

#dashboard-metas-summary-container h3 {
    margin-top: 0;
    margin-bottom: 20px;
    text-align: center;
    color: var(--sidebar-bg);
}

.meta-summary-item {
    display: flex;
    align-items: flex-start;
    gap: 15px;
    padding: 12px 0;
    font-size: 1.05em;
    line-height: 1.6;
}

.meta-summary-item:not(:last-child) {
    border-bottom: 1px solid #e9ecef;
}

.meta-summary-item i {
    color: var(--accent-color);
    font-size: 1.2em;
    margin-top: 4px;
}

.meta-summary-item strong {
    color: #333;
}
.conta-coluna table {
    table-layout: fixed; /* Essencial para que as larguras fixas funcionem corretamente */
    width: 100%;
}
/* --- INÍCIO: CORREÇÃO DEFINITIVA DO LAYOUT DA TELA CAIXA GLOBAL --- */

/* 1. Organiza os campos de cotação para não se esticarem indefinidamente */
#tela-caixa-global #cotacoes-moedas-container .form-grid {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    max-width: 900px; /* Impede que o container se estique demais em telas largas */
}

/* 2. Garante que os grupos de moedas fiquem um embaixo do outro */
#container-caixa-global {
    display: flex;
    flex-direction: column;
    overflow: hidden; /* ADICIONADO: Impede que o container se expanda para debaixo do menu lateral */
}
/* 3. Estiliza os títulos dos grupos de moeda */
.grupo-moeda-container h2 {
    margin: 20px 0 10px 0;
    padding-bottom: 5px;
    border-bottom: 1px solid var(--border-color);
}

/* 4. Estiliza o texto dos saldos que ficam ao lado dos títulos */
.saldo-titulo {
    font-size: 0.6em;
    font-weight: normal;
    color: #555;
    vertical-align: middle;
    margin-left: 15px;
}
.meta-card.meta-atingida {
    border-color: var(--success-color);
}

.meta-card.meta-atingida .meta-card-header {
    background-color: #eafaf1; /* Verde bem claro */
}

.meta-card.meta-atingida .meta-card-header h3 {
    color: var(--success-color);
}

.meta-card.meta-atingida .meta-progresso-barra {
    background-color: var(--success-color);
}

.meta-summary-item.meta-atingida {
    opacity: 0.8;
}

.meta-summary-item.meta-atingida i {
    color: var(--success-color) !important;
}

.metas-secao-titulo {
    grid-column: 1 / -1; /* Ocupa a linha inteira no grid */
    margin-top: 20px;
    margin-bottom: 0;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border-color);
    color: var(--sidebar-bg);
}
/* --- INÍCIO DA ALTERAÇÃO --- */
/* Estilos para os detalhes da conta no cabeçalho */
.conta-header-details {
    display: flex;
    gap: 15px;
    font-size: 0.8em;
    color: var(--secondary-color);
    margin-top: 5px;
    flex-wrap: wrap;
}

.conta-header-details span {
    background-color: #f8f9fa;
    padding: 2px 6px;
    border-radius: 4px;
    border: 1px solid #dee2e6;
}

.conta-header-details strong {
    color: #495057;
}
.conta-coluna.minimized .conta-header-details {
    display: none;
}
.form-row-double {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}
/* Estilos para o container de input com ícone */
.input-with-icon {
    position: relative;
    display: flex;
    align-items: center;
}

.input-with-icon input {
    width: 100%;
}

.calculator-icon {
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--secondary-color);
    cursor: pointer;
    transition: color 0.2s;
}

.calculator-icon:hover {
    color: var(--accent-color);
}

/* Estilos da Calculadora Flutuante */
.floating-calculator {
    display: none;
    position: fixed;
    z-index: 1051; /* Acima dos modais */
    width: 280px;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    top: 100px;
    left: 100px;
    user-select: none;
}

.calculator-header {
    padding: 10px 15px;
    background-color: var(--page-bg);
    cursor: move;
    border-bottom: 1px solid var(--border-color);
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-weight: bold;
}

.calculator-header .close-calculator {
    cursor: pointer;
    font-size: 1.5rem;
    font-weight: bold;
    color: var(--secondary-color);
}

.calculator-display {
    padding: 20px 15px;
    background-color: #ecf0f1;
    text-align: right;
    font-size: 2rem;
    font-weight: 300;
    color: var(--text-primary);
    overflow-x: auto;
    white-space: nowrap;
}

.calculator-buttons {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1px;
    background-color: var(--border-color);
}

.calculator-buttons .calc-btn {
    padding: 18px 0;
    font-size: 1.2rem;
    border: none;
    background-color: #fdfdfd;
    cursor: pointer;
    transition: background-color 0.2s;
}

.calculator-buttons .calc-btn:hover {
    background-color: #f0f0f0;
}

.calculator-buttons .operator {
    background-color: #f1c40f;
    color: white;
}
.calculator-buttons .operator:hover {
    background-color: #f39c12;
}

.calculator-buttons .function {
    background-color: #e0e0e0;
}
.calculator-buttons .function:hover {
    background-color: #d0d0d0;
}

.calculator-buttons .equals {
    grid-column: 4 / 5;
    grid-row: 4 / 6;
    background-color: var(--success-color);
    color: white;
}
.calculator-buttons .equals:hover {
    background-color: #2980b9;
}

.calculator-buttons .zero {
    grid-column: 1 / 2;
}

.calculator-buttons .insert {
    grid-column: 3 / 4;
    background-color: #1abc9c;
    color: white;
    font-size: 1.1rem;
}
.calculator-buttons .insert:hover {
    background-color: #16a085;
}
#card-contas, #card-moedas, #card-proventos {
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
}

#card-contas:hover, #card-moedas:hover, #card-proventos:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

#modal-dashboard-detalhes table {
    font-size: 1em;
}
/* --- Estilos para o Cabeçalho do Painel Comparativo com Ícone --- */
.coluna-comparativa h3 {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
}
/* --- Estilos para o Cabeçalho do Painel Comparativo com Ícone --- */
.coluna-comparativa h3 {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
}
/* --- INÍCIO: ESTILOS PARA O RODAPÉ DA BARRA LATERAL --- */
/* Container que fica no final da sidebar */
.sidebar-footer {
    width: 240px; /* Mesma largura da sidebar */
    background-color: #1c2a38; /* Um pouco mais escuro que a sidebar */
}

/* Estilo para cada item de informação individual (Backup, Cotações) */
.footer-info {
    color: var(--sidebar-text);
    padding: 10px 15px;
    font-size: 0.8em;
    text-align: center;
    border-top: 1px solid var(--sidebar-hover);
}

/* Remove a borda do primeiro item para não duplicar */
.sidebar-footer .footer-info:first-child {
    border-top: none;
}
/* --- FIM: ESTILOS PARA O RODAPÉ DA BARRA LATERAL --- */
/* --- ESTILOS PARA NOVA TELA DE PERFORMANCE --- */
#tabela-performance {
    font-size: 0.85em; /* Fonte um pouco menor para caber mais colunas */
    table-layout: fixed; /* Ajuda a controlar melhor as larguras */
}

#tabela-performance th.group-header {
    text-align: center;
    background-color: #e9ecef;
    border-bottom: 2px solid var(--accent-color);
}

/* Cores para os grupos de colunas */
#tabela-performance .group-1 { background-color: #f8f9fa; }
#tabela-performance .group-2 { background-color: #f0f9ff; }
#tabela-performance .group-3 { background-color: #fef9f0; }

#tabela-performance .col-posicao-desde {
    font-size: 0.9em;
    font-style: italic;
    color: #6c757d;
    width: 90px;
}

#tabela-performance .col-retorno-total {
    font-weight: bold;
}

#tabela-performance .info-tooltip {
    cursor: help;
    text-decoration: underline dotted;
}
/* --- ESTILOS PARA MELHORIA DA TELA DE PERFORMANCE --- */
.valor-principal {
    display: block;
    font-weight: 500;
}

.valor-secundario {
    display: block;
    font-size: 0.85em;
    margin-top: 2px;
}
/* --- ESTILOS PARA A NOVA POSIÇÃO POR INSTITUIÇÃO --- */
.categoria-acordeao, .subcategoria-acordeao {
    border: 1px solid #e9ecef;
    border-radius: 6px;
    margin-bottom: 10px;
    background-color: #f8f9fa;
}

.acordeao-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 15px;
    cursor: pointer;
    transition: background-color 0.2s;
}

.acordeao-header:hover {
    background-color: #e9ecef;
}

.acordeao-header h4, .acordeao-header h5 {
    margin: 0;
    font-size: 1.1em;
}

.acordeao-header h5 {
    font-size: 1em;
    color: #495057;
}

.acordeao-valor {
    font-weight: bold;
    font-size: 1.1em;
}

.acordeao-icone {
    transition: transform 0.3s ease-in-out;
}

.acordeao-header.ativo .acordeao-icone {
    transform: rotate(90deg);
}

.acordeao-conteudo {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease-in-out, padding 0.4s ease-in-out;
    padding: 0 15px;
    background-color: #ffffff;
}

.acordeao-conteudo table {
    margin-top: 0;
    margin-bottom: 15px;
}

.acordeao-conteudo .subcategoria-acordeao {
    margin: 10px 0;
    border-color: #dee2e6;
}
/* --- ESTILOS PARA A FAIXA DE COTAÇÕES (TICKER TAPE) --- */
.ticker-tape-container {
    width: 100%;
    background-color: var(--sidebar-bg);
    color: var(--sidebar-text);
    padding: 10px 0;
    overflow: hidden;
    white-space: nowrap;
    margin-bottom: 20px;
    border-radius: 6px;
}

.ticker-tape-content {
    display: inline-block;
    animation: scroll-ticker 45s linear infinite;
}

.ticker-tape-content:hover {
    animation-play-state: paused;
}

.ticker-item {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 0 20px;
    font-size: 0.9em;
}

.ticker-item strong {
    color: #bdc3c7; /* Cinza claro para o label */
}

.ticker-item span {
    font-weight: bold;
    font-size: 1.1em;
}

.ticker-separator {
    color: var(--accent-color);
    font-weight: bold;
    margin: 0 10px;
}

.ticker-positive {
    color: #2ecc71; /* Verde */
}

.ticker-negative {
    color: #e74c3c; /* Vermelho */
}

@keyframes scroll-ticker {
    0% {
        transform: translateX(0%);
    }
    100% {
        transform: translateX(-50%);
    }
}
/* --- ESTILOS PARA ATUALIZAÇÃO AUTOMÁTICA DE COTAÇÕES --- */
#btn-atualizar-cotacoes-api:disabled {
    background-color: var(--secondary-color);
    cursor: not-allowed;
}
/* --- ESTILOS PARA FEEDBACK DE ATUALIZAÇÃO DE COTAÇÕES --- */
.footer-info.update-success {
    background-color: #2ecc71; /* Verde (sucesso) */
    color: #ffffff;
    transition: background-color 0.3s ease-in-out;
}

.footer-info.update-error {
    background-color: #e74c3c; /* Vermelho (erro) */
    color: #ffffff;
    transition: background-color 0.3s ease-in-out;
}
/* --- ESTILOS PARA O NOVO ALERTA DE BACKUP --- */
.footer-info.backup-alerta-ativo {
    background-color: var(--warning-color);
    color: #ffffff;
    font-weight: bold;
    animation: pulse-background 2.5s infinite;
    border-top: none; /* Garante que não haja borda dupla */
}
@keyframes pulse-background {
    0% {
        background-color: var(--warning-color);
    }
    50% {
        background-color: var(--sidebar-bg);
    }
    100% {
        background-color: var(--warning-color);
    }
}
/* --- ESTILOS PARA AUTENTICAÇÃO FIREBASE --- */
#auth-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--page-bg);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2000;
}

.auth-box {
    background-color: var(--container-bg);
    padding: 30px 40px;
    border-radius: 8px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    width: 100%;
    max-width: 400px;
    text-align: center;
}

.auth-box h2 {
    margin-bottom: 25px;
    color: var(--sidebar-bg);
}

.auth-box .form-group {
    text-align: left;
    margin-bottom: 20px;
}

.auth-actions {
    display: flex;
    gap: 15px;
    margin-top: 20px;
}

.auth-actions .btn {
    flex: 1;
}

.auth-error-message {
    color: var(--danger-color);
    margin-top: 15px;
    font-size: 0.9em;
    height: 1.2em; /* Garante espaço mesmo quando vazio */
}

#user-info {
    padding: 15px 20px;
    text-align: center;
    border-top: 1px solid var(--sidebar-hover);
}

#user-info #user-email {
    display: block;
    margin-bottom: 10px;
    font-size: 0.9em;
    word-break: break-all;
}
/* --- ESTILOS PARA O INDICADOR DE CARREGAMENTO --- */
#loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(255, 255, 255, 0.8);
    display: none; /* Começa escondido */
    justify-content: center;
    align-items: center;
    z-index: 9999;
    flex-direction: column;
    gap: 15px;
}

#loading-overlay p {
    font-size: 1.2em;
    font-weight: 500;
    color: var(--sidebar-bg);
}

.spinner {
    width: 50px;
    height: 50px;
    border: 5px solid #f3f3f3;
    border-top: 5px solid var(--accent-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
/* --- ESTILO PARA MENU ATIVO NA SIDEBAR --- */
.sidebar .menu-item > a.active,
.sidebar .menu-parent.active {
    background-color: var(--accent-color); /* Cor mais intensa para o menu principal */
    font-weight: bold;
    border-left: 3px solid var(--accent-color);
    padding-left: 17px; /* Compensa a borda */
}

/* Regra para destacar o item de submenu ativo */
.sidebar .submenu a.active {
    background-color: var(--sidebar-hover); /* Cor mais discreta para o submenu */
    font-weight: bold;
}
/* --- INÍCIO: ESTILOS PARA O BOTÃO DE SINCRONIZAÇÃO MANUAL --- */
#manual-sync-container a {
    color: var(--sidebar-text);
    text-decoration: none;
    cursor: pointer;
    display: flex; /* Alinha o ícone e o texto */
    align-items: center;
    justify-content: center;
    gap: 8px; /* Espaço entre o ícone e o texto */
    padding: 12px 15px;
}

#manual-sync-container a:hover {
    background-color: var(--sidebar-hover);
}

#manual-sync-container a i.spinning {
    animation: spin 1s linear infinite;
}
/* --- FIM: ESTILOS PARA O BOTÃO DE SINCRONIZAÇÃO MANUAL --- */
/* --- INÍCIO: ESTILOS PARA AUTENTICAÇÃO NA SIDEBAR --- */
.sidebar-auth-section {
    margin-top: auto; /* Empurra para o final da sidebar */
    padding: 15px;
    background-color: #243342;
    border-top: 1px solid var(--sidebar-hover);
}

#user-info {
    text-align: center;
}

#user-info #user-email {
    display: block;
    margin-bottom: 10px;
    font-size: 0.9em;
    word-break: break-all;
    color: var(--sidebar-text);
}

.sidebar-login-title {
    color: var(--sidebar-text);
    text-align: center;
    font-size: 1em;
    margin-bottom: 10px;
}

#sidebar-login-form .form-group {
    margin-bottom: 10px;
}

#sidebar-login-form .form-group label {
    font-size: 0.8em;
    color: #bdc3c7;
}

#sidebar-login-form input {
    padding: 8px;
    font-size: 0.9em;
    width: 100%;
}

#sidebar-login-form .auth-actions {
    display: flex;
    gap: 10px;
    margin-top: 10px;
    justify-content: space-between;
}

#sidebar-login-form .auth-actions .btn {
    flex: 1;
}

#sidebar-login-form .auth-error-message {
    color: #f1c40f; /* Amarelo para melhor contraste na sidebar escura */
    font-size: 0.8em;
    height: auto;
    min-height: 1.2em;
    text-align: center;
    margin-top: 8px;
}

/* Remove estilos do container antigo de tela cheia */
#auth-container {
    display: none !important;
}
/* --- FIM: ESTILOS PARA AUTENTICAÇÃO NA SIDEBAR --- */
/* --- INÍCIO: ESTILOS PARA O NOVO MODAL DE DETALHES DE INVESTIMENTOS --- */

#card-investimentos {
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
}

#card-investimentos:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

#modal-investimentos-detalhes-conteudo h4 {
    color: var(--sidebar-bg);
    margin-top: 20px;
    margin-bottom: 10px;
    padding-bottom: 5px;
    border-bottom: 2px solid var(--accent-color);
}
#modal-investimentos-detalhes-conteudo h4:first-child {
    margin-top: 0;
}

#modal-investimentos-detalhes-conteudo table {
    font-size: 1em;
}

#modal-investimentos-detalhes-conteudo tfoot td {
    border-top: 2px solid var(--sidebar-bg);
    font-size: 1.05em;
}

#modal-investimentos-detalhes-total-geral {
    margin-top: 25px;
    padding-top: 15px;
    border-top: 2px solid var(--success-color);
    text-align: right;
}

#btn-imprimir-investimentos {
    cursor: pointer;
    font-size: 1.5em;
    color: var(--secondary-color);
}
#btn-imprimir-investimentos:hover {
    color: var(--accent-color);
}

/* Estilo para o timestamp de impressão (escondido por padrão) */
.print-only-timestamp {
    display: none;
    text-align: center;
    font-size: 0.9em;
    color: #333;
    margin-top: 5px;
    font-weight: normal;
}
.print-only-title {
    display: none; /* Esconde o título de impressão na tela normal */
    text-align: center;
    margin-bottom: 5px;
}
@media print {
    /* Regras Gerais para Impressão */
    body * {
        visibility: hidden; /* Esconde tudo por padrão */
    }
    
    .sidebar, .modal:not(#modal-investimentos-detalhes), .custom-tooltip {
        display: none !important; /* Remove elementos da interface */
    }

    /* Regras para tornar um container específico visível */
    .imprimindo, .imprimindo * {
        visibility: visible !important;
    }

    .imprimindo {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        margin: 0;
        padding: 20px;
        font-size: 10pt;
        color: #000;
    }

    /* Estilos Específicos para Cada Tipo de Impressão */
    body.imprimindo-proventos #container-impressao-proventos { display: block !important; }
    body.imprimindo-balanceamento #tela-consulta-balanceamento { display: block !important; }
    body.imprimindo-investimentos #modal-investimentos-detalhes,
    body.imprimindo-investimentos #modal-investimentos-detalhes * {
        visibility: visible !important;
    }
    
    body.imprimindo-investimentos #modal-investimentos-detalhes {
        display: block !important;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
    }
    
    body.imprimindo-investimentos #modal-investimentos-detalhes .modal-content {
        box-shadow: none !important;
        border: none !important;
        margin: 0 !important;
        padding: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
    }
    
    body.imprimindo-investimentos #modal-investimentos-detalhes .page-header {
        display: block !important;
    }
    
    body.imprimindo-investimentos #modal-investimentos-detalhes .print-only-timestamp {
        display: block !important;
        text-align: center;
        margin-bottom: 15px;
    }
    
    body.imprimindo-investimentos #modal-investimentos-detalhes .info-esc,
    body.imprimindo-investimentos #modal-investimentos-detalhes #btn-imprimir-investimentos {
        display: none !important;
    }
    
    /* Ajustes Finos para o Layout de Impressão */
    .imprimindo .modal-content {
        box-shadow: none;
        border: none;
        width: 100%;
        max-width: 100%;
        margin: 0;
        padding: 0;
    }

    .imprimindo .page-header, 
    .imprimindo .info-esc,
    .imprimindo .btn {
        display: none !important;
    }
    
    .print-only-timestamp {
        display: block !important;
        visibility: visible !important;
        text-align: center;
        font-size: 0.9em;
        color: #333;
        margin-top: 5px;
        font-weight: normal;
    }
    body.imprimindo-resumo-ativo #container-impressao-ativo {
        display: block !important;
    }
    
    #container-impressao-ativo h1 {
        font-size: 18pt;
        text-align: center;
        margin: 0;
        border-bottom: 2px solid #000;
        padding-bottom: 10px;
    }
    
    #container-impressao-ativo .impressao-timestamp {
        font-size: 9pt;
        text-align: center;
        color: #555;
        margin: 5px 0 25px 0;
    }
    
    #container-impressao-ativo h2 {
        font-size: 14pt;
        margin-top: 25px;
        margin-bottom: 10px;
        border-bottom: 1px solid #888;
        padding-bottom: 5px;
    }
    
    #container-impressao-ativo table {
        width: 100%;
        border-collapse: collapse;
        font-size: 8.5pt;
        margin-top: 10px;
        page-break-inside: auto;
    }
    
    #container-impressao-ativo th, #container-impressao-ativo td {
        border: 1px solid #ccc;
        padding: 5px;
        text-align: left;
    }
    
    #container-impressao-ativo th {
        background-color: #f0f0f0 !important;
        font-weight: bold;
    }
    
    #container-impressao-ativo .numero {
        text-align: right;
    }
    
    #container-impressao-ativo .percentual {
        text-align: right;
    }
    
    #container-impressao-ativo .grafico-impressao-container {
        page-break-inside: avoid;
        text-align: center;
    }
    
    #container-impressao-ativo .grafico-impressao-container img {
        max-width: 90%;
        height: auto;
        margin-top: 15px;
    }
    
    #container-impressao-ativo .frequencia-impressao-container {
        page-break-inside: avoid;
    }

    -webkit-print-color-adjust: exact;
    color-adjust: exact;
}

@page {
    size: A4 portrait;
    margin: 1.5cm;
}
/* --- ESTILOS PARA DATA DE SNAPSHOT EM RENDA FIXA --- */
.editable-cell-container {
    position: relative;
}

.editable-saldo-rf {
    background-color: #fffacd;
    cursor: text;
    border-radius: 3px;
    padding: 5px;
    display: inline-block; /* Garante que o fundo amarelo fique apenas no texto */
}

.snapshot-date {
    display: block;
    font-size: 0.8em;
    color: #6c757d;
    font-style: italic;
    margin-top: 4px;
    text-align: right;
}
/* --- ESTILOS PARA HISTÓRICO DE SNAPSHOTS --- */
#container-historico-snapshots table {
    font-size: 0.95em;
}

#container-historico-snapshots .btn-detalhes-snapshot {
    padding: 6px 12px;
    font-size: 0.9em;
}

#modal-snapshot-detalhes-conteudo .snapshot-summary {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 6px;
    margin-bottom: 25px;
}

#modal-snapshot-detalhes-conteudo .summary-item {
    text-align: center;
}

#modal-snapshot-detalhes-conteudo .summary-item label {
    font-size: 0.9em;
    color: #6c757d;
    display: block;
}

#modal-snapshot-detalhes-conteudo .summary-item span {
    font-size: 1.2em;
    font-weight: bold;
}

#modal-snapshot-detalhes-conteudo h4 {
    margin-top: 20px;
    margin-bottom: 10px;
    border-bottom: 1px solid #eee;
    padding-bottom: 8px;
}
/* Estilos para linhas clicáveis em tabelas */
.row-clickable {
    cursor: pointer;
}
.row-clickable:hover {
    background-color: #f5f5f5;
}
/* Efeito de hover para linhas com a barra de progresso de break-even */
tr[style*="linear-gradient"]:hover {
    background: #e9ecef !important; /* Um cinza claro que sobrepõe o gradiente no hover */
}
/* --- ESTILOS PARA CAMPO DE PREJUÍZO EDITÁVEL (CALCULADORA IR) --- */
.editable-prejudice-cell {
    background-color: #fffacd; /* Amarelo bem claro, como um post-it */
    cursor: text;
    font-weight: bold;
    outline: 1px dashed #f39c12; /* Borda tracejada para indicar editável */
}
.imposto-clicavel {
    cursor: pointer;
    font-weight: bold;
    text-decoration: underline dotted;
    color: var(--accent-color);
}
.imposto-clicavel:hover {
    background-color: #eaf5ff;
}
.ir-detalhes-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
}
.ir-detalhes-secao {
    border: 1px solid #dee2e6;
    border-radius: 6px;
    overflow: hidden; /* Garante que a borda arredondada funcione */
}
.ir-detalhes-secao h4 {
    margin: 0;
    padding: 10px 15px;
    background-color: #f8f9fa;
    font-size: 1.1em;
    color: #495057;
    border-bottom: 1px solid #dee2e6;
}
.ir-detalhes-tabela {
    width: 100%;
    border-collapse: collapse;
}
.ir-detalhes-tabela td {
    padding: 8px 15px;
    border-bottom: 1px solid #f0f0f0;
}
.ir-detalhes-tabela tr:last-child td {
    border-bottom: none;
}
.ir-detalhes-linha-subtotal td {
    border-top: 1px solid #ccc;
    font-weight: 500;
}
.ir-detalhes-linha-total {
    background-color: #e9ecef;
    font-weight: bold;
    font-size: 1.1em;
}
.ir-detalhes-linha-total td:first-child {
    color: var(--sidebar-bg);
}
/* --- ESTILOS PARA TELA DE TRANSFERÊNCIA APRIMORADA --- */
.transferencia-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 8px;
    border-radius: 4px;
    margin-top: 5px;
}
.transferencia-item:nth-child(odd) {
    background-color: #f9f9f9;
}
.transferencia-item label {
    flex-grow: 1;
    cursor: pointer;
    display: block;
}
.transferencia-item input[type=number] {
    width: 100px;
}
.transferencia-item-info {
    font-size: 0.85em;
    color: #27ae60; /* Verde para indicar o status */
    font-style: italic;
}
.reverter-btn {
    cursor: pointer;
    color: var(--warning-color);
    font-size: 1.1em;
    margin-left: auto; /* Empurra o botão para a direita */
}
.reverter-btn:hover {
    color: var(--danger-color);
}
.detalhes-transferencia-historico {
    font-size: 0.9em;
    line-height: 1.6;
}
.detalhes-transferencia-historico strong {
    color: var(--sidebar-bg);
}
/* --- ESTILOS PARA TELA DE NEGOCIAÇÃO APRIMORADA --- */
.page-header-actions {
    display: flex;
    gap: 20px;
}
.page-header-actions .acao-btn {
    font-size: 1.5em;
}
#modal-resumo-negociacao-conteudo table {
    font-size: 1em;
}
#modal-resumo-negociacao-conteudo .resumo-negociacao-totais {
    margin-top: 20px;
    padding-top: 15px;
    border-top: 2px solid var(--accent-color);
    font-size: 1.1em;
}
.resumo-negociacao-totais div {
    display: flex;
    justify-content: space-between;
    padding: 5px 0;
}
.resumo-negociacao-totais .total-compra strong,
.resumo-negociacao-totais .acrescimo-rendimento strong {
    font-size: 1.2em;
    color: var(--success-color);
}
/* --- ESTILOS PARA DESTAQUE DE LINHA NA SIMULAÇÃO DE NEGOCIAÇÃO --- */
.simulacao-compra {
    background-color: #eaf5ff !important; /* Azul claro para compra */
    transition: background-color 0.3s ease;
}
.simulacao-venda {
    background-color: #ffebee !important; /* Vermelho claro para venda */
    transition: background-color 0.3s ease;
}
.valor-agrupado-direita {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
}

.valor-agrupado-direita small {
    font-size: 0.9em;
    font-weight: bold;
    margin-top: 3px;
}
.next-ex-date {
    display: block;
    font-size: 0.8em;
    font-style: italic;
    color: #555;
    margin-top: 4px;
    white-space: nowrap;
}

.next-ex-date i {
    margin-right: 5px;
    color: var(--secondary-color);
}
/* --- ESTILOS PARA O MODAL DE ATIVOS POR CNPJ --- */
.cnpj-clicavel {
    cursor: pointer;
    text-decoration: underline;
    text-decoration-style: dotted;
    text-underline-offset: 3px;
    color: var(--accent-color);
    font-weight: 500;
}
.cnpj-clicavel:hover {
    text-decoration-style: solid;
    color: #2980b9; /* Um tom mais escuro do accent-color */
}
#modal-cnpj-conteudo ul {
    list-style-type: square;
    padding-left: 20px;
}
/* --- ESTILOS PARA O PAINEL DE APORTE REORGANIZADO --- */
#tela-consulta-balanceamento .aporte-panel {
    background-color: #f8f9fa;
    color: #333;
    padding: 15px;
    border-radius: 8px;
    margin: 15px 0;
}

#tela-consulta-balanceamento .aporte-input-group {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
}

#tela-consulta-balanceamento .aporte-input-group label {
    font-weight: bold;
    color: #333;
    margin-bottom: 0;
    flex-shrink: 0;
}

#tela-consulta-balanceamento .aporte-input-group input {
    flex-grow: 1;
    max-width: 200px;
    font-size: 1.1em;
    text-align: right;
}

#tela-consulta-balanceamento .aporte-summary {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px 20px;
    border-top: 1px solid #dee2e6;
    padding-top: 15px;
}

#tela-consulta-balanceamento .summary-data-point {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    font-size: 1.05em;
}

#tela-consulta-balanceamento .summary-data-point label {
    font-size: 0.9em;
    color: #555;
}

#tela-consulta-balanceamento .summary-data-point span {
    font-weight: 500;
}

#tela-consulta-balanceamento .summary-data-point.total span {
    font-weight: bold;
    color: var(--accent-color);
}
/* --- ESTILOS PARA LINHAS CLICÁVEIS EM TABELAS --- */
.row-clickable {
    cursor: pointer;
}
.row-clickable:hover {
    background-color: #f5f5f5;
}
/* --- ESTILO PARA BOTÃO DE IR DESABILITADO --- */
.icone-titulo-desabilitado {
    color: var(--border-color) !important;
    cursor: not-allowed;
    transform: none !important;
}

/* --- ESTILOS PARA IMPRESSÃO DO RELATÓRIO DE IR --- */
@media print {
    body.imprimindo-ir #container-impressao-ir {
        display: block !important;
        visibility: visible !important;
        color: #000;
        font-family: Arial, Helvetica, sans-serif;
    }

    #container-impressao-ir h1 {
        font-size: 16pt;
        text-align: center;
        margin: 0;
        border-bottom: 2px solid #000;
        padding-bottom: 10px;
    }
    
    #container-impressao-ir .print-timestamp {
        font-size: 9pt;
        text-align: center;
        color: #555;
        margin: 5px 0 25px 0;
    }

    #container-impressao-ir h2 {
        font-size: 14pt;
        margin-top: 25px;
        margin-bottom: 10px;
        border-bottom: 1px solid #888;
        padding-bottom: 5px;
        page-break-after: avoid;
    }

    #container-impressao-ir h3 {
        font-size: 12pt;
        margin-top: 20px;
        margin-bottom: 5px;
        color: #333;
    }

    /* Estilos para Seção 1: Patrimônio */
    #container-impressao-ir .secao-patrimonio ul {
        list-style-type: none;
        padding-left: 0;
    }

    #container-impressao-ir .secao-patrimonio li {
        font-size: 9pt;
        padding: 8px 5px;
        border-bottom: 1px solid #eee;
        page-break-inside: avoid;
    }

    /* Estilos para Seção 2: Rendimentos */
    #container-impressao-ir .secao-rendimentos .ativo-bloco {
        page-break-inside: avoid;
        margin-bottom: 15px;
        border-top: 1px solid #ccc;
        padding-top: 10px;
    }

    #container-impressao-ir .secao-rendimentos table {
        width: 100%;
        border-collapse: collapse;
        font-size: 8.5pt;
        margin-top: 5px;
    }

    #container-impressao-ir .secao-rendimentos th, 
    #container-impressao-ir .secao-rendimentos td {
        border: 1px solid #ccc;
        padding: 5px;
        text-align: left;
    }

    #container-impressao-ir .secao-rendimentos th {
        background-color: #f0f0f0 !important;
        font-weight: bold;
    }

    #container-impressao-ir .secao-rendimentos .numero {
        text-align: right;
    }

    #container-impressao-ir .secao-rendimentos .total-label {
        font-weight: bold;
        text-align: right;
    }
}
/* --- ESTILO PARA COTAÇÃO NO PLANO DE AÇÃO --- */
.ticker-cotacao {
    font-size: 0.85em;
    font-weight: 500;
    color: var(--secondary-color);
    margin-left: 5px;
    font-style: italic;
}
/* --- ESTILOS PARA DESTAQUE DE VALOR MÁXIMO EM SNAPSHOTS --- */
.snapshot-max-value {
    background-color: var(--light-green-bg);
    font-weight: bold;
    color: #218838; /* Um verde um pouco mais escuro para o texto */
}
/* --- ESTILOS PARA TÍTULOS CLICÁVEIS DE GRÁFICO --- */
.titulo-clicavel-grafico {
    cursor: pointer;
    text-decoration: underline;
    text-decoration-style: dotted;
    text-decoration-color: var(--secondary-color);
    text-underline-offset: 4px;
    transition: color 0.2s;
    display: inline-block; /* Garante que o clique funcione bem */
}
.titulo-clicavel-grafico:hover {
    color: var(--accent-color);
    text-decoration-style: solid;
}
/* --- INÍCIO: Cor para ícone de Sincronia Ativa --- */
.toggle-sync.sync-active {
    color: var(--accent-color);
    font-weight: bold; /* Adiciona um negrito para destacar mais */
}
/* --- FIM: Cor para ícone de Sincronia Ativa --- */
/* --- ESTILOS AUDITORIA DE SINCRONIA --- */
.container-botoes-caixa {
    margin: 10px 20px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border-color);
}

/* --- CORREÇÃO DO BOTÃO DESFORMATADO --- */
.button-outline {
    background-color: var(--container-bg);
    color: var(--accent-color);
    border: 2px solid var(--accent-color);
    padding: 8px 12px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 0.95em;
    font-weight: 500;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    transition: all 0.2s ease;
}

.button-outline:hover {
    background-color: var(--accent-color);
    color: var(--container-bg);
}
/* --- FIM DA CORREÇÃO --- */

#auditoria-sincronia-lista-container {
    margin-top: 15px;
    border: 1px solid var(--border-color);
    border-radius: 5px;
}

#auditoria-sincronia-lista {
    max-height: 60vh;
    overflow-y: auto;
}

.auditoria-cabecalho {
    display: flex;
    align-items: center;
    padding: 10px;
    background-color: #f9f9f9;
    font-weight: bold;
    border-bottom: 1px solid var(--border-color);
}

.auditoria-item {
    display: flex;
    align-items: center;
    padding: 10px;
    border-bottom: 1px solid #f0f0f0;
}

.auditoria-item:last-child {
    border-bottom: none;
}

.auditoria-item:hover {
    background-color: #f7f7f7;
}

.auditoria-col-sync { flex-basis: 50px; text-align: center; }
.auditoria-col-data { flex-basis: 100px; }
.auditoria-col-desc { flex-grow: 1; }
.auditoria-col-conta { flex-basis: 180px; font-style: italic; color: #555; }
.auditoria-col-valor { flex-basis: 120px; text-align: right; font-weight: 500; }

.auditoria-item .auditoria-col-desc {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 300px; /* Ajuste conforme necessário */
}

.chk-auditoria-sincronia {
    transform: scale(1.3);
    cursor: pointer;
}
/* --- ESTILOS PARA BARRA DE PROGRESSO DE ALOCAÇÃO (MODAL) --- */
.meta-card-body {
    padding: 15px;
    flex-grow: 1;
}

.meta-progresso-info {
    display: flex;
    justify-content: flex-end;
    font-size: 0.9em;
    margin-bottom: 8px;
    color: #555;
}

.meta-progresso-barra-container {
    width: 100%;
    height: 12px;
    background-color: #e9ecef;
    border-radius: 6px;
    overflow: hidden;
}

.meta-progresso-barra {
    height: 100%;
    background-color: var(--accent-color); /* Cor principal da barra */
    border-radius: 6px;
    transition: width 0.5s ease-in-out;
}

.meta-valores {
    display: flex;
    justify-content: space-between;
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid #f0f0f0;
}

.meta-valor-item {
    text-align: center;
    flex: 1;
}

.meta-valor-item label {
    font-size: 0.9em;
    color: #6c757d;
    display: block;
    margin-bottom: 5px;
}

.meta-valor-item span {
    font-size: 1.3em;
    font-weight: 600;
}
/* --- INÍCIO: ESTILOS PARA YOC/DY NO PAINEL COMPARATIVO --- */
.item-comparativo .label {
    line-height: 1.4; /* Melhora o espaçamento */
}

.item-comparativo .label .yield-info {
    display: block;
    font-size: 0.8em;
    font-weight: 500;
    font-style: italic;
    color: var(--secondary-color);
    margin-top: 3px;
}

.item-comparativo.total .label .yield-info {
    color: #555; /* Cor um pouco mais escura para o total */
}
/* --- FIM: ESTILOS PARA YOC/DY --- */
/* --- INÍCIO: ESTILOS PARA O ÍCONE E MODAL DE ALERTAS DO DASHBOARD --- */
.titulo-com-icone {
    display: flex;
    align-items: center;
    gap: 15px;
}

#dashboard-alert-icon-container {
    position: relative;
    cursor: pointer;
}

.dashboard-alert-icon {
    font-size: 1.2em; /* Tamanho do ícone 'i' */
    color: var(--secondary-color); /* Cor padrão (preto/cinza) */
    transition: color 0.3s ease, transform 0.3s ease;
}

.dashboard-alert-icon:hover {
    color: var(--accent-color);
}

/* Estado de Alerta Ativo */
.dashboard-alert-icon.alerta-ativo {
    color: var(--warning-color); /* Amarelo/Laranja */
    animation: pulse-alert-icon 1.5s infinite;
}

.dashboard-alert-icon.alerta-ativo:hover {
    color: #e67e22; /* Laranja mais escuro no hover */
}

@keyframes pulse-alert-icon {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.3);
    }
    100% {
        transform: scale(1);
    }
}

/* Badge (Contador) */
.dashboard-alert-badge {
    position: absolute;
    top: -8px;
    right: -12px;
    background-color: var(--danger-color);
    color: white;
    font-size: 0.75em;
    font-weight: bold;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid var(--page-bg);
}

/* Conteúdo do Modal de Alertas */
#modal-dashboard-alertas-conteudo h4 {
    font-size: 1.1em;
    color: var(--sidebar-bg);
    margin-top: 20px;
    margin-bottom: 10px;
    padding-bottom: 5px;
    border-bottom: 1px solid #eee;
}
#modal-dashboard-alertas-conteudo h4:first-child {
    margin-top: 0;
}

#modal-dashboard-alertas-conteudo .alerta-item {
    padding: 10px 5px;
    border-bottom: 1px solid #f0f0f0;
    line-height: 1.5;
}
#modal-dashboard-alertas-conteudo .alerta-item:last-child {
    border-bottom: none;
}

#modal-dashboard-alertas-conteudo .alerta-item.tipo-desbalanceamento {
    color: var(--accent-color);
}
#modal-dashboard-alertas-conteudo .alerta-item.tipo-preco-alta {
    color: var(--success-color);
}
#modal-dashboard-alertas-conteudo .alerta-item.tipo-preco-baixa {
    color: var(--danger-color);
}

#modal-dashboard-alertas-conteudo .alerta-item i {
    margin-right: 10px;
}

/* --- FIM: ESTILOS DE ALERTAS DO DASHBOARD --- */
/* --- INÍCIO: ESTILOS PARA O ÍCONE DE ALERTA NA SIDEBAR --- */
/* 1. Transforma o link do menu em um container flexível */
.sidebar .menu-item > a[data-tela="dashboard"] {
    display: flex;
    justify-content: space-between; /* "Dashboard" na esquerda, ícone na direita */
    align-items: center;
    position: relative; /* Necessário para o badge */
}

/* 2. Remove o espaçamento extra do ícone 'i' (pois já temos o container) */
.sidebar .menu-item > a[data-tela="dashboard"] > i.fas.fa-chart-pie {
    margin-right: 0;
}

/* 3. Posiciona o container do ícone de alerta */
#dashboard-alert-icon-container {
    position: relative;
    padding: 0 5px; /* Pequena área de clique */
}

/* 4. Reduz o tamanho do ícone 'i' para ficar proporcional ao menu */
.sidebar .dashboard-alert-icon {
    font-size: 1.1em; /* Tamanho ajustado */
    color: var(--sidebar-text); /* Cor padrão do texto do menu */
    opacity: 0.7;
    transition: color 0.3s ease, transform 0.3s ease, opacity 0.3s ease;
}

/* 5. Mantém o hover e a animação de piscar */
.sidebar .dashboard-alert-icon:hover {
    color: #fff;
    opacity: 1;
}

.sidebar .dashboard-alert-icon.alerta-ativo {
    color: var(--warning-color); /* Amarelo */
    opacity: 1;
    animation: pulse-alert-icon 1.5s infinite;
}

/* 6. Reposiciona e diminui o contador (badge) */
.sidebar .dashboard-alert-badge {
    position: absolute;
    top: -4px;   /* Ajustado para o novo tamanho */
    right: -6px; /* Ajustado para o novo tamanho */
    font-size: 0.7em; /* Menor */
    width: 16px;
    height: 16px;
    border: 1px solid var(--sidebar-bg);
}
/* --- FIM: ESTILOS DE ALERTA NA SIDEBAR --- */
#modal-dashboard-alertas-conteudo .alerta-item.tipo-oportunidade {
    color: var(--success-color); /* Verde */
    font-weight: 500;
}
/* Estilo dos Botões de Período do Gráfico Modal */
.chart-period-controls input[type="radio"] {
    display: none;
}

.chart-period-btn {
    padding: 6px 12px;
    font-size: 0.9em;
    border: 1px solid var(--border-color);
    border-radius: 4px;
    cursor: pointer;
    background-color: #fff;
    color: var(--text-primary);
    transition: all 0.2s;
}

.chart-period-controls input[type="radio"]:checked + .chart-period-btn {
    background-color: var(--accent-color);
    color: #fff;
    border-color: var(--accent-color);
    font-weight: bold;
}

.chart-period-btn:hover {
    background-color: #f0f2f5;
}
/* --- CORREÇÃO DE VISIBILIDADE DOS TOOLTIPS --- */
/* Força o tooltip a ficar sempre acima de qualquer modal */
.tooltip, 
.custom-tooltip, 
#tooltip, 
div[class*="tooltip"] {
    z-index: 9999999 !important;
}